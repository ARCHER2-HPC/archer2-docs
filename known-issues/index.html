
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../favicon.ico">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.3">
    
    
      
        <title>ARCHER2 Known Issues - ARCHER2 User Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.edf004c2.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/archer2.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#archer2-known-issues" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ARCHER2 User Documentation" class="md-header__button md-logo" aria-label="ARCHER2 User Documentation" data-md-component="logo">
      
  <img src="../images/archer2_white_transparent.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ARCHER2 User Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ARCHER2 Known Issues
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ARCHER2-HPC/archer2-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ARCHER2-HPC/archer2-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ARCHER2 User Documentation" class="md-nav__button md-logo" aria-label="ARCHER2 User Documentation" data-md-component="logo">
      
  <img src="../images/archer2_white_transparent.png" alt="logo">

    </a>
    ARCHER2 User Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ARCHER2-HPC/archer2-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ARCHER2-HPC/archer2-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Documentation overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Quickstart
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Quickstart" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Quickstart
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../quick-start/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../quick-start/quickstart-users/" class="md-nav__link">
        Quickstart for users
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../quick-start/quickstart-developers/" class="md-nav__link">
        Quickstart for developers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          ARCHER2 4-cabinet to full ARCHER2 migration guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ARCHER2 4-cabinet to full ARCHER2 migration guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          ARCHER2 4-cabinet to full ARCHER2 migration guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../archer2-migration/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../archer2-migration/account-migration/" class="md-nav__link">
        Account migration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../archer2-migration/data-migration/" class="md-nav__link">
        Data migration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../archer2-migration/porting/" class="md-nav__link">
        Porting applications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../archer2-migration/archer2-differences/" class="md-nav__link">
        Differences between ARCHER2 4-cab and full ARCHER2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          ARCHER2 Known Issues
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        ARCHER2 Known Issues
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#open-issues" class="md-nav__link">
    Open Issues
  </a>
  
    <nav class="md-nav" aria-label="Open Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#occasionally-user-jobs-can-cause-compute-nodes-to-crash-added-2021-11-22" class="md-nav__link">
    Occasionally user jobs can cause compute nodes to crash (Added: 2021-11-22)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dask-python-package-missing-dependencies-added-2021-11-22" class="md-nav__link">
    Dask Python package missing dependencies (Added: 2021-11-22)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#warning-when-compiling-fortran-code-with-cce-and-mpi_f08-interface-added-2021-11-18" class="md-nav__link">
    Warning when compiling Fortran code with CCE and MPI_F08 interface (Added: 2021-11-18)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-message-no-space-left-on-device-added-2021-07-20" class="md-nav__link">
    Error message: No space left on device (Added: 2021-07-20)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#petsc-fails-when-used-on-more-than-one-node-added-2021-06-21" class="md-nav__link">
    PETSc fails when used on more than one node (Added: 2021-06-21)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hpe-cray-perftools-modules-not-available-by-default-added-2021-04-27" class="md-nav__link">
    HPE Cray perftools modules not available by default (Added: 2021-04-27)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#research-software" class="md-nav__link">
    Research Software
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stat-view-not-working" class="md-nav__link">
    stat-view not working
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issues-with-rpath-for-non-default-library-versions" class="md-nav__link">
    Issues with RPATH for non-default library versions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-leak-leads-to-job-fail-by-out-of-memory-oom-error-updated-2021-04-26" class="md-nav__link">
    Memory leak leads to job fail by out of memory (OOM) error (Updated: 2021-04-26)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mpi-ucx-error-ivb_reg_mr" class="md-nav__link">
    MPI UCX ERROR: ivb_reg_mr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aocc-compiler-fails-to-compile-with-netcdf-added-2021-11-18" class="md-nav__link">
    AOCC compiler fails to compile with NetCDF (Added: 2021-11-18)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recently-resolved-issues" class="md-nav__link">
    Recently Resolved Issues
  </a>
  
    <nav class="md-nav" aria-label="Recently Resolved Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#occasionally-larger-jobs-requiring-greater-than-128-nodes-will-run-slow-or-fail-added-2021-11-18" class="md-nav__link">
    Occasionally larger jobs (requiring greater than 128 nodes) will run slow or fail (Added: 2021-11-18)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#singularity-and-cmake-3x" class="md-nav__link">
    Singularity and CMake 3.x
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        ARCHER2 Frequently Asked Questions
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          User and Best Practice Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="User and Best Practice Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          User and Best Practice Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/hardware/" class="md-nav__link">
        Hardware
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/connecting/" class="md-nav__link">
        Connecting to ARCHER2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/data/" class="md-nav__link">
        Data management and transfer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/sw-environment/" class="md-nav__link">
        Software environment: full system
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/sw-environment-4cab/" class="md-nav__link">
        Software environment: 4-cabinet system
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/scheduler/" class="md-nav__link">
        Running jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/io/" class="md-nav__link">
        I/O and file systems
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/dev-environment/" class="md-nav__link">
        Application development environment; full system
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/dev-environment-4cab/" class="md-nav__link">
        Application development environment; 4-cabinet system
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/containers/" class="md-nav__link">
        Containers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/python/" class="md-nav__link">
        Using Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/analysis/" class="md-nav__link">
        Data analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/debug/" class="md-nav__link">
        Debugging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/profile/" class="md-nav__link">
        Profiling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/tuning/" class="md-nav__link">
        Performance tuning
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Research Software
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Research Software" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Research Software
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/castep/castep/" class="md-nav__link">
        CASTEP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/chemshell/chemshell/" class="md-nav__link">
        Chemshell
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/code-saturne/code-saturne/" class="md-nav__link">
        Code_Saturne
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/cp2k/cp2k/" class="md-nav__link">
        CP2K
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/elk/elk/" class="md-nav__link">
        ELK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/fenics/fenics/" class="md-nav__link">
        FEniCS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/gromacs/gromacs/" class="md-nav__link">
        GROMACS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/lammps/lammps/" class="md-nav__link">
        LAMMPS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/mitgcm/mitgcm/" class="md-nav__link">
        MITgcm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/mo-unified-model/mo-unified-model/" class="md-nav__link">
        Met Office Unified Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/namd/namd/" class="md-nav__link">
        NAMD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/nektarplusplus/nektarplusplus/" class="md-nav__link">
        Nektar++
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/nemo/nemo/" class="md-nav__link">
        NEMO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/nwchem/nwchem/" class="md-nav__link">
        NWChem
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/onetep/onetep/" class="md-nav__link">
        ONETEP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/openfoam/openfoam/" class="md-nav__link">
        OpenFOAM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/qe/qe/" class="md-nav__link">
        Quantum Espresso
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research-software/vasp/vasp/" class="md-nav__link">
        VASP
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Software Libraries
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Software Libraries" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Software Libraries
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/libsci/" class="md-nav__link">
        HPE Cray LibSci: BLAS, LAPACK, ScaLAPACK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/fftw/" class="md-nav__link">
        FFTW
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/hdf5/" class="md-nav__link">
        HDF5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/netcdf/" class="md-nav__link">
        NetCDF
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/adios/" class="md-nav__link">
        ADIOS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/arpack/" class="md-nav__link">
        ARPACK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/boost/" class="md-nav__link">
        Boost
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/eigen/" class="md-nav__link">
        Eigen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/glm/" class="md-nav__link">
        GLM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/hypre/" class="md-nav__link">
        HYPRE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/matio/" class="md-nav__link">
        Matio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/mkl/" class="md-nav__link">
        Intel MKL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/mumps/" class="md-nav__link">
        MUMPS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/petsc/" class="md-nav__link">
        PETSc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/metis/" class="md-nav__link">
        Metis/Parmetis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/scotch/" class="md-nav__link">
        Scotch/PT-Scotch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/slepc/" class="md-nav__link">
        SLEPc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/superlu/" class="md-nav__link">
        SuperLU/SuperLU_DIST
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software-libraries/trilinos/" class="md-nav__link">
        Trilinos
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Data Analysis and Tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data Analysis and Tools" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Data Analysis and Tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data-tools/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data-tools/paraview/" class="md-nav__link">
        ParaView
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data-tools/cray-r/" class="md-nav__link">
        R
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data-tools/visidata/" class="md-nav__link">
        VisiData
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../essentials/" class="md-nav__link">
        Essential Skills
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          Other Software
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Other Software" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Other Software
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../other-software/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../other-software/crystal/" class="md-nav__link">
        CRYSTAL
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#open-issues" class="md-nav__link">
    Open Issues
  </a>
  
    <nav class="md-nav" aria-label="Open Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#occasionally-user-jobs-can-cause-compute-nodes-to-crash-added-2021-11-22" class="md-nav__link">
    Occasionally user jobs can cause compute nodes to crash (Added: 2021-11-22)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dask-python-package-missing-dependencies-added-2021-11-22" class="md-nav__link">
    Dask Python package missing dependencies (Added: 2021-11-22)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#warning-when-compiling-fortran-code-with-cce-and-mpi_f08-interface-added-2021-11-18" class="md-nav__link">
    Warning when compiling Fortran code with CCE and MPI_F08 interface (Added: 2021-11-18)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-message-no-space-left-on-device-added-2021-07-20" class="md-nav__link">
    Error message: No space left on device (Added: 2021-07-20)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#petsc-fails-when-used-on-more-than-one-node-added-2021-06-21" class="md-nav__link">
    PETSc fails when used on more than one node (Added: 2021-06-21)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hpe-cray-perftools-modules-not-available-by-default-added-2021-04-27" class="md-nav__link">
    HPE Cray perftools modules not available by default (Added: 2021-04-27)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#research-software" class="md-nav__link">
    Research Software
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stat-view-not-working" class="md-nav__link">
    stat-view not working
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issues-with-rpath-for-non-default-library-versions" class="md-nav__link">
    Issues with RPATH for non-default library versions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-leak-leads-to-job-fail-by-out-of-memory-oom-error-updated-2021-04-26" class="md-nav__link">
    Memory leak leads to job fail by out of memory (OOM) error (Updated: 2021-04-26)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mpi-ucx-error-ivb_reg_mr" class="md-nav__link">
    MPI UCX ERROR: ivb_reg_mr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aocc-compiler-fails-to-compile-with-netcdf-added-2021-11-18" class="md-nav__link">
    AOCC compiler fails to compile with NetCDF (Added: 2021-11-18)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recently-resolved-issues" class="md-nav__link">
    Recently Resolved Issues
  </a>
  
    <nav class="md-nav" aria-label="Recently Resolved Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#occasionally-larger-jobs-requiring-greater-than-128-nodes-will-run-slow-or-fail-added-2021-11-18" class="md-nav__link">
    Occasionally larger jobs (requiring greater than 128 nodes) will run slow or fail (Added: 2021-11-18)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#singularity-and-cmake-3x" class="md-nav__link">
    Singularity and CMake 3.x
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/ARCHER2-HPC/archer2-docs/edit/main/docs/known-issues/index.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>


<h1 id="archer2-known-issues">ARCHER2 Known Issues</h1>
<p>This section highlights known issues on ARCHER2, their potential
impacts and any known workarounds. Many of these issues are under
active investigation by HPE Cray and the wider service.</p>
<h2 id="open-issues">Open Issues</h2>
<h3 id="occasionally-user-jobs-can-cause-compute-nodes-to-crash-added-2021-11-22">Occasionally user jobs can cause compute nodes to crash (Added: 2021-11-22)</h3>
<ul>
<li><strong>Systems affected:</strong> ARCHER2 full system</li>
</ul>
<p>In rare circumstances, it is possible for a user job to crash the compute nodes on which it is running. This is only evident to the user as a failed job: there is no obvious sign that the nodes have crashed. Therefore, if we identify a user whose jobs are causing nodes to crash, we may need to work with them to stop this happening.</p>
<p>The underlying issue is resolved in an update to the compute-node operating system (Shasta Version 1.5), which is expected to be rolled out to the main system early in 2022.</p>
<p>In the meantime, users who experience this issue are advised to try disabling XPMEM in their application. The ARCHER2 CSE team can provide advice on how to do this. You can contact the  CSE team via the <a href="https://www.archer2.ac.uk/support-access/servicedesk.html">service desk</a>.</p>
<h3 id="dask-python-package-missing-dependencies-added-2021-11-22">Dask Python package missing dependencies (Added: 2021-11-22)</h3>
<p>The Dask Python package is missing some dependencies on the latest Programming
Environment (21.09). This can be worked around either by using the default
Programming Environment (21.04), or by following the <a href="https://docs.archer2.ac.uk/user-guide/python/#adding-your-own-packages">instructions</a>
to install dask in your own user space.</p>
<h3 id="warning-when-compiling-fortran-code-with-cce-and-mpi_f08-interface-added-2021-11-18">Warning when compiling Fortran code with CCE and MPI_F08 interface (Added: 2021-11-18)</h3>
<ul>
<li><strong>Systems affected:</strong> ARCHER2 full system</li>
</ul>
<p>When you compile Fortran code using the MPI F08 interface (i.e. <code>use mpi_f08</code>) using the default version
of CCE (11.0.4) you will see warnings similar to:</p>
<div class="highlight"><pre><span></span><code>  use mpi_f08
      ^       
ftn-1753 crayftn: WARNING INTERFACE_MPI, File = interface_mpi_mod.f90, Line = 8, Column = 7 
  File &quot;/opt/cray/pe/mpich/8.1.4/ofi/cray/9.1/include/MPI_F08.mod&quot; containing [sub]module information for &quot;MPI_F08&quot; was created with a previous compiler release.  It will not be supported by the next major release.  It is version 110 from release 9.0.
</code></pre></div>
<p>These warnings can be safely ignored as they do not affect the functioning of the code. If
you wish to avoid the warnings, you can compile using the more recent CCE version (12.0.3)
on the system. To switch to this version, use <code>module load cpe/21.09</code> from the default
environment on ARCHER2.</p>
<h3 id="error-message-no-space-left-on-device-added-2021-07-20">Error message: <code>No space left on device</code> (Added: 2021-07-20)</h3>
<ul>
<li><strong>Systems affected:</strong> ARCHER2 4-cabinet system</li>
</ul>
<p>Following an issue with te Lustre file system, there may be a number of files on the
system that have stale active file handles on the Lustre server. Attempts to overwrite
or append to these files may lead to error messages such as:</p>
<div class="highlight"><pre><span></span><code>No space left on device
</code></pre></div>
<p>even though there are no issues with storage quotas. There are two potential workarounds
for this issue:</p>
<ol>
<li>Remove the offending file(s) (e.g. using the <code>rm</code> command)</li>
<li>Work in a different directory or write to a different file name so you are not trying
   to overwrite or append to the offending file(s)</li>
</ol>
<h3 id="petsc-fails-when-used-on-more-than-one-node-added-2021-06-21">PETSc fails when used on more than one node (Added: 2021-06-21)</h3>
<ul>
<li><strong>Systems affected:</strong> ARCHER2 4-cabinet system</li>
</ul>
<p>There is a bug in the default HPE Cray MPICH which leads to failures from PETSc
when running on more than one node.</p>
<p><strong>Workaround:</strong> switch to a newer version of HPE Cray MPICH. To do this, modify
your job submission script to add the following lines after all your other
<code>module</code> commands but before you use <code>srun</code> to run the executable:</p>
<div class="highlight"><pre><span></span><code>module swap cray-mpich cray-mpich/8.1.3
export LD_LIBRARY_PATH=${CRAY_LD_LIBRARY_PATH}:${LD_LIBRARY_PATH}
</code></pre></div>
<h3 id="hpe-cray-perftools-modules-not-available-by-default-added-2021-04-27">HPE Cray <code>perftools</code> modules not available by default (Added: 2021-04-27)</h3>
<ul>
<li><strong>Systems affected:</strong> ARCHER2 4-cabinet system</li>
</ul>
<p>The HPE Cray <code>perftools</code> modules are no longer available by default on login to
ARCHER2 or on the compute nodes when you run a job. This is being investigated
and we hope to fix the issue soon.</p>
<p><strong>Workarounds</strong> You can access the <code>perftools</code> modules by restoring a different
compiler environment or by switching to a different Programming Environment
release.</p>
<p><em>Option 1: Restoring a different compiler environment</em></p>
<p>On an ARCHER2 login node you can make the <code>perftools</code> modules available with
a command such as:</p>
<div class="highlight"><pre><span></span><code>module restore -s PrgEnv-gnu
</code></pre></div>
<p>If you need to use the <code>perftools</code> modules with the default Cray compilers then
you must first switch to a different compiler suite and then back to the Cray
compiler suite:</p>
<div class="highlight"><pre><span></span><code>module restore -s PrgEnv-gnu
module restore -s PrgEnv-cray
</code></pre></div>
<p><em>Option 2: Switch to a different Programming Environment (PE) release</em></p>
<p>You can also restore the <code>perftools</code> modules by switching to a different PE
release. For example, if you want to use the Cray compiler suite with the
21.03 PE release, you would use:</p>
<div class="highlight"><pre><span></span><code>module load cpe/21.03
</code></pre></div>
<p>This would make the <code>perftools</code> modules available. More information on
using different PE releases <a href="../user-guide/dev-environment/#switching-to-a-different-hpe-cray-programming-environment-release">is available in the User and Best Practice Guide</a></p>
<h3 id="research-software">Research Software</h3>
<ul>
<li><strong>Systems affected:</strong> ARCHER2 full system, ARCHER2 4-cabinet system</li>
</ul>
<p>There are several outstanding issues for the centrally installed Research Software:</p>
<ul>
<li><strong>PyChemShell</strong> is not yet available. We are working with the code developers to address this.</li>
<li><strong>PLUMED</strong> is not yet available. Currently, we recommend affected users to install a local version of the software.</li>
</ul>
<p>Users should also check individual software pages, for known limitations/ caveats, for the use of software on the Cray EX platform and Cray Linux Environment.</p>
<h3 id="stat-view-not-working"><code>stat-view</code> not working</h3>
<ul>
<li><strong>Systems affected:</strong> ARCHER2 4-cabinet system</li>
</ul>
<p>The <code>stat-view</code> utility from the <code>cray-stat</code> module does not currently
work due to missing dependencies within the HPE Cray software stack. If you
try to use the tool, you will see errors similar too:</p>
<div class="highlight"><pre><span></span><code>auser@uan01:~&gt; module load cray-stat
auser@uan01:~&gt; stat-view
Traceback (most recent call last):
File &quot;/opt/cray/pe/stat/4.7.1/lib/python3.6/site-packages/STATview.py&quot;, line 60, in &lt;module&gt;
import xdot
ModuleNotFoundError: No module named &#39;xdot&#39;

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
File &quot;/opt/cray/pe/stat/4.7.1/lib/python3.6/site-packages/STATmain.py&quot;, line 73, in &lt;module&gt;
raise import_exception
File &quot;/opt/cray/pe/stat/4.7.1/lib/python3.6/site-packages/STATmain.py&quot;, line 40, in &lt;module&gt;
from STATGUI import STATGUI_main
File &quot;/opt/cray/pe/stat/4.7.1/lib/python3.6/site-packages/STATGUI.py&quot;, line 37, in &lt;module&gt;
import STATview
File &quot;/opt/cray/pe/stat/4.7.1/lib/python3.6/site-packages/STATview.py&quot;, line 62, in &lt;module&gt;
raise Exception(&#39;STATview requires xdot\nxdot can be downloaded from https://github.com/jrfonseca/xdot.py\n&#39;)
Exception: STATview requires xdot
xdot can be downloaded from https://github.com/jrfonseca/xdot.py
</code></pre></div>
<p>The current workaround is to use <code>/work/y02/shared/stat-view-workaround/stat-view</code> instead.</p>
<h3 id="issues-with-rpath-for-non-default-library-versions">Issues with RPATH for non-default library versions</h3>
<ul>
<li><strong>Systems affected:</strong> ARCHER2 full system, ARCHER2 4-cabinet system</li>
</ul>
<p>When you compile applications against non-default versions of libraries within the HPE
Cray software stack and use the environment variable <code>CRAY_ADD_RPATH=yes</code> to try and encode
the paths to these libraries within the binary this will not be respected at runtime and
the binaries will use the default versions instead.</p>
<p>The workaround for this issue is to ensure that you set:</p>
<div class="highlight"><pre><span></span><code>export LD_LIBRARY_PATH=$CRAY_LD_LIBRARY_PATH:$LD_LIBRARY_PATH
</code></pre></div>
<p>at both compile and runtime. For more details on using non-default versions of libraries,
see <a href="../user-guide/dev-environment/#using-non-default-versions-of-hpe-cray-libraries-on-archer2">the description in the User and Best Practice Guide</a></p>
<h3 id="memory-leak-leads-to-job-fail-by-out-of-memory-oom-error-updated-2021-04-26">Memory leak leads to job fail by out of memory (OOM) error (Updated: 2021-04-26)</h3>
<ul>
<li><strong>Systems affected:</strong> ARCHER2 4-cabinet system</li>
</ul>
<p>Your program compiles and seems to run fine, but after some time (at least 10
minutes), it crashes with an out-of-memory (OOM) error. The job crashes more
quickly when run on a smaller number of nodes.</p>
<p>The workaround for this issue is to use the newer HPE Cray Programming Environment
release 21.03. Instructions on using a non-default programming environment release
<a href="../user-guide/dev-environment/#switching-to-a-different-hpe-cray-programming-environment-release">are available in the User and Best Practice Guide</a></p>
<h3 id="mpi-ucx-error-ivb_reg_mr">MPI <code>UCX ERROR: ivb_reg_mr</code></h3>
<ul>
<li><strong>Systems affected:</strong> ARCHER2 4-cabinet system</li>
</ul>
<p>If you are using the UCX layer for MPI communication you may see an error such as:</p>
<div class="highlight"><pre><span></span><code>[1613401128.440695] [nid001192:11838:0] ib_md.c:325 UCX ERROR ibv_reg_mr(address=0xabcf12c0, length=26400, access=0xf) failed: Cannot allocate memory
[1613401128.440768] [nid001192:11838:0] ucp_mm.c:137 UCX ERROR failed to register address 0xabcf12c0 mem_type bit 0x1 length 26400 on md[4]=mlx5_0: Input/output error (md reg_mem_types 0x15)
[1613401128.440773] [nid001192:11838:0] ucp_request.c:269 UCX ERROR failed to register user buffer datatype 0x8 address 0xabcf12c0 len 26400: Input/output error
MPICH ERROR [Rank 1534] [job id 114930.0] [Mon Feb 15 14:58:48 2021] [unknown] [nid001192] - Abort(672797967) (rank 1534 in comm 0): Fatal error in PMPI_Isend: Other MPI error, error stack:
PMPI_Isend(160)......: MPI_Isend(buf=0xabcf12c0, count=3300, MPI_DOUBLE_PRECISION, dest=1612, tag=4, comm=0x84000004, request=0x7fffb38fa0fc) failed
MPID_Isend(416)......:
MPID_isend_unsafe(92):
MPIDI_UCX_send(95)...: returned failed request in UCX netmod(ucx_send.h 95 MPIDI_UCX_send Input/output error)
aborting job:
Fatal error in PMPI_Isend: Other MPI error, error stack:
PMPI_Isend(160)......: MPI_Isend(buf=0xabcf12c0, count=3300, MPI_DOUBLE_PRECISION, dest=1612, tag=4, comm=0x84000004, request=0x7fffb38fa0fc) failed
MPID_Isend(416)......:
MPID_isend_unsafe(92):
MPIDI_UCX_send(95)...: returned failed request in UCX netmod(ucx_send.h 95 MPIDI_UCX_send Input/output error)
[1613401128.457254] [nid001192:11838:0] mm_xpmem.c:82 UCX WARN remote segment id 200002e09 apid 200002e3e is not released, refcount 1
[1613401128.457261] [nid001192:11838:0] mm_xpmem.c:82 UCX WARN remote segment id 200002e08 apid 100002e3e is not released, refcount 1
</code></pre></div>
<p>You can add the following line to your job submission script before the <code>srun</code> command
to try and workaround this error:</p>
<div class="highlight"><pre><span></span><code>export UCX_IB_REG_METHODS=direct
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Setting this flag may have an impact on code performance.</p>
</div>
<h3 id="aocc-compiler-fails-to-compile-with-netcdf-added-2021-11-18">AOCC compiler fails to compile with NetCDF (Added: 2021-11-18)</h3>
<ul>
<li><strong>Systems affected:</strong> ARCHER2 full system</li>
</ul>
<p>There is currently a problem with the module file which means cray-netcdf-hdf5parallel will not operate correctly in PrgEnv-aocc. An example of the error seen is:  </p>
<div class="highlight"><pre><span></span><code>F90-F-0004-Corrupt or Old Module file /opt/cray/pe/netcdf-hdf5parallel/4.7.4.3/crayclang/9.1/include/netcdf.mod (netcdf.F90: 8)
</code></pre></div>
<p>The current workaround for this is to load module epcc-netcdf-hdf5parallel instead if PrgEnv-aocc is required.</p>
<h2 id="recently-resolved-issues">Recently Resolved Issues</h2>
<h3 id="occasionally-larger-jobs-requiring-greater-than-128-nodes-will-run-slow-or-fail-added-2021-11-18">Occasionally larger jobs (requiring greater than 128 nodes) will run slow or fail (Added: 2021-11-18)</h3>
<ul>
<li><strong>Systems affected:</strong> ARCHER2 full system</li>
</ul>
<p>The CSE team saw instances when larger jobs (those involving more than 128 nodes) ran slow (perhaps two or three times slower than normally) or did not finish (because the slowness causes a time-out). The issue has been traced to a hardware fault, which has been resolved.</p>
<h3 id="singularity-and-cmake-3x">Singularity and CMake 3.x</h3>
<ul>
<li><strong>Systems affected:</strong> ARCHER2 4-cabinet system</li>
</ul>
<p>Certain cmake variables need to be set before a containerised cmake can find
MPI libraries located on the host.</p>
<div class="highlight"><pre><span></span><code>MPI_ROOT=/opt/cray/pe/mpich/8.0.16/ofi/gnu/9.1

cmake ...
    -DMPI_C_HEADER_DIR=&quot;${MPI_ROOT}/include&quot; -DMPI_CXX_HEADER_DIR=&quot;${MPI_ROOT}/include&quot; \
    -DMPI_C_LIB_NAMES=mpi -DMPI_CXX_LIB_NAMES=mpi \
    -DMPI_mpi_LIBRARY=&quot;${MPI_ROOT}/lib/libmpi.so&quot; \
    ...
</code></pre></div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../archer2-migration/archer2-differences/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Differences between ARCHER2 4-cab and full ARCHER2" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Differences between ARCHER2 4-cab and full ARCHER2
            </div>
          </div>
        </a>
      
      
        
        <a href="../faq/" class="md-footer__link md-footer__link--next" aria-label="Next: ARCHER2 Frequently Asked Questions" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              ARCHER2 Frequently Asked Questions
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/ARCHER2-HPC" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://twitter.com/ARCHER2_HPC" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://www.linkedin.com/groups/13848871/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.0bbba5b5.min.js"}</script>
    
    
      <script src="../assets/javascripts/bundle.e1a181d9.min.js"></script>
      
    
  </body>
</html>