
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../dev-environment/">
      
      
        <link rel="next" href="../python/">
      
      
      <link rel="icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.33">
    
    
      
        <title>Containers - ARCHER2 User Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/archer2.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-XVNML97F1T"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-XVNML97F1T",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-XVNML97F1T",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#containers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ARCHER2 User Documentation" class="md-header__button md-logo" aria-label="ARCHER2 User Documentation" data-md-component="logo">
      
  <img src="../../images/archer2_white_transparent.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ARCHER2 User Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Containers
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ARCHER2-HPC/archer2-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ARCHER2-HPC/archer2-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ARCHER2 User Documentation" class="md-nav__button md-logo" aria-label="ARCHER2 User Documentation" data-md-component="logo">
      
  <img src="../../images/archer2_white_transparent.png" alt="logo">

    </a>
    ARCHER2 User Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ARCHER2-HPC/archer2-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ARCHER2-HPC/archer2-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Quickstart
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Quickstart
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick-start/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick-start/quickstart-users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart for users
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick-start/quickstart-developers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart for developers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick-start/quickstart-next-steps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart next steps
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../known-issues/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ARCHER2 Known Issues
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ARCHER2 Frequently Asked Questions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            ARCHER2 Frequently Asked Questions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General FAQ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User and Best Practice Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            User and Best Practice Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hardware
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connecting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connecting to ARCHER2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data management and transfer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw-environment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scheduler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    I/O and file systems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev-environment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Application development environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Containers
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Containers
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#useful-links" class="md-nav__link">
    <span class="md-ellipsis">
      Useful Links
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#about-singularity-containers-images" class="md-nav__link">
    <span class="md-ellipsis">
      About Singularity Containers (Images)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-singularity-images-on-archer2" class="md-nav__link">
    <span class="md-ellipsis">
      Using Singularity Images on ARCHER2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using Singularity Images on ARCHER2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-existing-container-images-onto-archer2" class="md-nav__link">
    <span class="md-ellipsis">
      Getting existing container images onto ARCHER2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-use-on-the-login-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive use on the login nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-use-on-the-compute-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive use on the compute nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serial-processes-within-a-non-interactive-batch-script" class="md-nav__link">
    <span class="md-ellipsis">
      Serial processes within a non-interactive batch script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parallel-processes-within-a-non-interactive-batch-script" class="md-nav__link">
    <span class="md-ellipsis">
      Parallel processes within a non-interactive batch script
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-your-own-singularity-container-images" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Your Own Singularity Container Images
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating Your Own Singularity Container Images">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-container-images-using-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Building container images using Docker
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-singularity-with-mpi-on-archer2" class="md-nav__link">
    <span class="md-ellipsis">
      Using Singularity with MPI on ARCHER2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using Singularity with MPI on ARCHER2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-an-image-with-mpi-from-scratch" class="md-nav__link">
    <span class="md-ellipsis">
      Building an image with MPI from scratch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-parallel-mpi-jobs-using-singularity-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Running parallel MPI jobs using Singularity containers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-containerised-hpe-cray-programming-environments" class="md-nav__link">
    <span class="md-ellipsis">
      Using Containerised HPE Cray Programming Environments
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../machine-learning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Machine Learning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../profile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profiling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tuning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Performance tuning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../energy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Energy use
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GPU development platform
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functional-accounts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functional accounts
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Research Software
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Research Software
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/casino/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CASINO
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/castep/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CASTEP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/cesm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CESM2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/chemshell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chemshell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/code-saturne/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code_Saturne
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/cp2k/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CP2K
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/crystal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CRYSTAL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/fhi-aims/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FHI-aims
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/gromacs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GROMACS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/lammps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LAMMPS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/mitgcm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MITgcm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/mo-unified-model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Met Office Unified Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/namd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NAMD
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/nektarplusplus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nektar++
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/nemo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NEMO
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/nwchem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NWChem
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/onetep/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ONETEP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/openfoam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenFOAM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/orca/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ORCA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/qchem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    QChem
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/qe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quantum Espresso
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/vasp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VASP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software Libraries
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Software Libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/libsci/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HPE Cray LibSci: BLAS, LAPACK, ScaLAPACK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/fftw/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FFTW
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/hdf5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HDF5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/netcdf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NetCDF
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/adios/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADIOS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/aocl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AOCL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/arpack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ARPACK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/boost/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Boost
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/eigen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eigen
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/glm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GLM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/hypre/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HYPRE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/matio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Matio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/mkl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intel MKL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/mesa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MESA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/mumps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MUMPS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/petsc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PETSc
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/metis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metis/Parmetis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/scotch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scotch/PT-Scotch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/slepc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SLEPc
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/superlu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SuperLU/SuperLU_DIST
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/trilinos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trilinos
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data Analysis and Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Data Analysis and Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/amd-uprof/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AMD uProf
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/forge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linaro Forge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/darshan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Darshan
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/pm-mpi-lib/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Energy Counters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/globus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Globus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/julia/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Julia
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/paraview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ParaView
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/cray-r/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/visidata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VisiData
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/vmd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VMD
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../essentials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Essential Skills
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../publish/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ARCHER2 and Publications
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#useful-links" class="md-nav__link">
    <span class="md-ellipsis">
      Useful Links
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#about-singularity-containers-images" class="md-nav__link">
    <span class="md-ellipsis">
      About Singularity Containers (Images)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-singularity-images-on-archer2" class="md-nav__link">
    <span class="md-ellipsis">
      Using Singularity Images on ARCHER2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using Singularity Images on ARCHER2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-existing-container-images-onto-archer2" class="md-nav__link">
    <span class="md-ellipsis">
      Getting existing container images onto ARCHER2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-use-on-the-login-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive use on the login nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-use-on-the-compute-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive use on the compute nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serial-processes-within-a-non-interactive-batch-script" class="md-nav__link">
    <span class="md-ellipsis">
      Serial processes within a non-interactive batch script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parallel-processes-within-a-non-interactive-batch-script" class="md-nav__link">
    <span class="md-ellipsis">
      Parallel processes within a non-interactive batch script
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-your-own-singularity-container-images" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Your Own Singularity Container Images
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating Your Own Singularity Container Images">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-container-images-using-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Building container images using Docker
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-singularity-with-mpi-on-archer2" class="md-nav__link">
    <span class="md-ellipsis">
      Using Singularity with MPI on ARCHER2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using Singularity with MPI on ARCHER2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-an-image-with-mpi-from-scratch" class="md-nav__link">
    <span class="md-ellipsis">
      Building an image with MPI from scratch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-parallel-mpi-jobs-using-singularity-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Running parallel MPI jobs using Singularity containers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-containerised-hpe-cray-programming-environments" class="md-nav__link">
    <span class="md-ellipsis">
      Using Containerised HPE Cray Programming Environments
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="containers">Containers</h1>
<p>This page was originally based on the documentation at the
<a href="http://docs.hpc.shef.ac.uk/en/latest/sharc/software/apps/singularity.html">University of Sheffield HPC service</a></p>
<p>Designed around the notion of mobility of compute and reproducible
science, Singularity enables users to have full control of their
operating system environment. This means that a non-privileged user can
"swap out" the Linux operating system and environment on the host for a
Linux OS and environment that they control. So if the host system is
running CentOS Linux but your application runs in Ubuntu Linux with a
particular software stack, you can create an Ubuntu image, install your
software into that image, copy the image to another host (e.g. ARCHER2),
and run your application on that host in its native Ubuntu environment.</p>
<p>Singularity also allows you to leverage the resources of whatever host
you are on. This includes high-speed interconnects (e.g. Slingshot on
ARCHER2), file systems (e.g. /home and /work on ARCHER2) and potentially other
resources.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Singularity only supports Linux containers. You cannot create
images that use Windows or macOS (this is a restriction of the
containerisation model rather than Singularity).</p>
</div>
<h2 id="useful-links">Useful Links</h2>
<ul>
<li><a href="https://www.sylabs.io/">Singularity website</a></li>
<li><a href="https://www.sylabs.io/docs/">Singularity documentation</a></li>
</ul>
<h2 id="about-singularity-containers-images">About Singularity Containers (Images)</h2>
<p>Similar to Docker, a Singularity container is a self-contained software stack.
As Singularity does not require a root-level daemon to run its containers
(as is required by Docker) it is suitable for use on multi-user HPC systems
such as ARCHER2. Within the container, you have exactly the same permissions
as you do in a standard login session on the system.</p>
<p>In practice, this means that a container image created on your local machine with
all your research software installed for local development will also run
on ARCHER2.</p>
<p>Pre-built container images (such as those on <a href="http://hub.docker.com">DockerHub</a> or
<a href="https://datasets.datalad.org/?dir=/shub/">SingularityHub archive</a> can simply be downloaded
and used on ARCHER2 (or anywhere else Singularity is installed).</p>
<p>Creating and modifying container images requires root permission and so must be
done on a system where you have such access (in practice, this is
usually within a virtual machine on your laptop/workstation).</p>
<div class="admonition note singularityhub now read-only">
<p class="admonition-title">Note</p>
<p>SingularityHub was a publicly available cloud service for Singularity container images active from 2016 to 2021. It built container recipes from Github repositories on Google Cloud, and container images were available via the command line Singularity or sregistry software. These container images are still available now in the <a href="https://datasets.datalad.org/?dir=/shub/">SingularityHub Archive</a></p>
</div>
<h2 id="using-singularity-images-on-archer2">Using Singularity Images on ARCHER2</h2>
<p>Singularity containers can be used on ARCHER2 in a number of ways,
including:</p>
<ul>
<li>Interactively on the login nodes</li>
<li>Interactively on compute nodes</li>
<li>As serial processes within a non-interactive batch script</li>
<li>As parallel processes within a non-interactive batch script</li>
</ul>
<p>We provide information on each of these scenarios below. First,
we describe briefly how to get existing container images onto ARCHER2 so
that you can launch containers based on them.</p>
<h3 id="getting-existing-container-images-onto-archer2">Getting existing container images onto ARCHER2</h3>
<p>Singularity container images are files, so, if you already have a container image,
you can use <code>scp</code> to copy the file to ARCHER2 as you would with
any other file.</p>
<p>If you wish to get a file from one of the container image repositories,
then Singularity allows you to do this from ARCHER2 itself.</p>
<p>For example, to retrieve a container image from SingularityHub on ARCHER2 we can
simply issue a Singularity command to pull the image.</p>
<pre><code>auser@ln03:~&gt; singularity pull hello-world.sif shub://vsoch/hello-world
</code></pre>
<p>The container image located at the <code>shub</code> URI is written to a Singularity Image
File (SIF) called <code>hello-world.sif</code>.</p>
<h3 id="interactive-use-on-the-login-nodes">Interactive use on the login nodes</h3>
<p>Once you have a container image file, launching a container based on the container image on the login nodes in an
interactive way is extremely simple: you use the <code>singularity shell</code>
command. Using the container image we built in the example above:</p>
<pre><code>auser@ln03:~&gt; singularity shell hello-world.sif
Singularity&gt;
</code></pre>
<p>Within a Singularity container your home directory will be available.</p>
<p>Once you have finished using your container, you can return to the ARCHER2
login node prompt with the <code>exit</code> command:</p>
<pre><code>Singularity&gt; exit
exit
auser@ln03:~&gt;
</code></pre>
<h3 id="interactive-use-on-the-compute-nodes">Interactive use on the compute nodes</h3>
<p>The process for using a container interactively on the compute nodes is
very similar to that for the login nodes. The only difference is that
you first have to submit an interactive serial job (from a location on
<code>/work</code>) in order to get interactive access to the compute node.</p>
<p>For example, to reserve a full node for you to work on interactively you
would use:</p>
<pre><code>auser@ln03:/work/t01/t01/auser&gt; srun --nodes=1 --exclusive --time=00:20:00 \
                                      --account=[budget code] \
                                      --partition=standard --qos=standard \
                                      --pty /bin/bash

...wait until job starts...

auser@nid00001:/work/t01/t01/auser&gt;
</code></pre>
<p>Note that the prompt has changed to show you are on a compute node. Now
you can launch a container in the same way as on the login node.</p>
<pre><code>auser@nid00001:/work/t01/t01/auser&gt; singularity shell hello-world.sif
Singularity&gt; exit
exit
auser@nid00001:/work/t01/t01/auser&gt; exit
auser@ln03:/work/t01/t01/auser&gt;
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We used <code>exit</code> to leave the interactive container shell and then
<code>exit</code> again to leave the interactive job on the compute node.</p>
</div>
<h3 id="serial-processes-within-a-non-interactive-batch-script">Serial processes within a non-interactive batch script</h3>
<p>You can also use Singularity containers within a non-interactive batch
script as you would any other command. If your container image contains a
<em>runscript</em> then you can use <code>singularity run</code> to execute the runscript
in the job. You can also use <code>singularity exec</code> to execute arbitrary
commands (or scripts) within the container.</p>
<p>An example job submission script to run a serial job that executes the
runscript within a container based on the container image in the <code>hello-world.sif</code>
file that we downloaded previously to an ARCHER2 login node would be as follows.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash --login</span>

<span class="c1"># Slurm job options (name, compute nodes, job time)</span>

<span class="kp">#SBATCH --job-name=helloworld</span>
<span class="kp">#SBATCH --nodes=1</span>
<span class="kp">#SBATCH --ntasks-per-node=1</span>
<span class="kp">#SBATCH --cpus-per-task=1</span>
<span class="kp">#SBATCH --time=00:10:00</span>

<span class="kp">#SBATCH --account=[budget code]</span>
<span class="kp">#SBATCH --partition=standard</span>
<span class="kp">#SBATCH --qos=standard</span>

<span class="c1"># Run the serial executable</span>
singularity<span class="w"> </span>run<span class="w"> </span><span class="nv">$SLURM_SUBMIT_DIR</span>/hello-world.sif
</code></pre></div>
<p>You submit this in the usual way and the standard output and error
should be written to <code>slurm-...</code>, where the output filename ends
with the job number.</p>
<h3 id="parallel-processes-within-a-non-interactive-batch-script">Parallel processes within a non-interactive batch script</h3>
<p>Running a Singularity container in parallel across a number of compute nodes requires some
preparation. In general though, Singularity can be run within the parallel job launcher (<code>srun</code>).</p>
<pre><code>srun &lt;options&gt; \
    singularity &lt;options&gt; /path/to/image/file \
        app &lt;options&gt;
</code></pre>
<p>The code snippet above shows the launch command as having three nested parts, <code>srun</code>, the singularity environment
and the containerised application.</p>
<p>The Singularity container image must be compatible with the MPI environment on the host; either, the containerised
app has been built against the appropriate MPI libraries or the container itself contains an MPI library
that is compatible with the host MPI. The latter situation is known as the <a href="https://sylabs.io/guides/3.7/user-guide/mpi.html#hybrid-model">hybrid model</a>;
this is the approach taken in the sections that follow.</p>
<h2 id="creating-your-own-singularity-container-images">Creating Your Own Singularity Container Images</h2>
<p>As we saw above, you can create Singularity container images by importing from
DockerHub or Singularity Hub on ARCHER2 itself. If you wish to create
your own custom container image to use with Singularity then you must use a system
where you have root (or administrator) privileges - often your own
laptop or workstation.</p>
<p>There are a number of different options to create container images on your local
system to use with Singularity on ARCHER2. We are going to use Docker on our 
local system to create the container image, push the new container image to
Docker Hub and then use Singularity on ARCHER2 to convert the Docker container
image to a Singularity container image SIF file.</p>
<p>For macOS and Windows users we recommend installing Docker Desktop. For Linux
users, we recommend installing Docker directly on your local system. See the
Docker documentation for full details on how to install Docker Desktop/Docker.</p>
<h3 id="building-container-images-using-docker">Building container images using Docker</h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We assume that you are familiar with using Docker in these instructions. You 
can find an introduction to Docker at
<a href="https://carpentries-incubator.github.io/docker-introduction/">Reproducible Computational Environments Using Containers: Introduction to Docker</a></p>
</div>
<p>As usual, you can build container images with a command similar to:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>build<span class="w"> </span>--platform<span class="w"> </span>linux/amd64<span class="w"> </span>-t<span class="w"> </span>&lt;username&gt;/&lt;image<span class="w"> </span>name&gt;:&lt;version&gt;<span class="w"> </span>.
</code></pre></div>
<p>Where:</p>
<ul>
<li><code>&lt;username&gt;</code> is your Docker Hub username</li>
<li><code>&lt;image name&gt;</code> is the name of the container image you wish to create</li>
<li><code>&lt;version&gt;</code> - specifies the version of the image you are creating (e.g. "latest", "v1")</li>
<li><code>.</code> is the <em>build context</em> - in this example it is the location of the Dockerfile</li>
</ul>
<p>Note, you should use the <code>--platform linux/amd64</code> option to ensure that the container
image is compatible with the processor architecture on ARCHER2.</p>
<h2 id="using-singularity-with-mpi-on-archer2">Using Singularity with MPI on ARCHER2</h2>
<p>MPI on ARCHER2 is provided by the Cray MPICH libraries with the interface
to the high-performance Slingshot interconnect provided via the OFI interface.
Therefore, as per the <a href="https://sylabs.io/guides/3.7/user-guide/mpi.html#hybrid-model">Singularity MPI Hybrid model</a>, we will build our container image such that it contains a version of the MPICH MPI library compiled with support for OFI.
Below, we provide instructions on creating a container image with
a version of MPICH compiled in this way. We then provide an 
example of how to run a Singularity container with MPI over multiple 
ARCHER2 compute nodes.</p>
<h3 id="building-an-image-with-mpi-from-scratch">Building an image with MPI from scratch</h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Remember, all these steps should be executed on your local system where
you have administrator privileges and Docker installed, <strong>not on ARCHER2</strong>.</p>
</div>
<p>We will illustrate the process of building a Singularity image with MPI from
scratch by building an image that contains MPI provided by MPICH and the OSU
MPI benchmarks. As part of the container image creation we need to download the source code
for both MPICH and the OSU benchmarks. At the time of writing, the stable MPICH
release is 3.4.2 and the stable OSU benchmark release is 5.8 - this may have
changed by the time you are following these instructions.</p>
<p>First, create a Dockerfile that describes how to build the image:</p>
<div class="highlight"><pre><span></span><code><span class="k">FROM</span><span class="w"> </span><span class="s">ubuntu:20.04</span>

<span class="k">ENV</span><span class="w"> </span><span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive

<span class="c"># Install the necessary packages (from repo)</span>
<span class="k">RUN</span><span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>--no-install-recommends<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>apt-utils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>build-essential<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>curl<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libcurl4-openssl-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libzmq3-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkg-config<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>software-properties-common
<span class="k">RUN</span><span class="w"> </span>apt-get<span class="w"> </span>clean
<span class="k">RUN</span><span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>dkms
<span class="k">RUN</span><span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>autoconf<span class="w"> </span>automake<span class="w"> </span>build-essential<span class="w"> </span>numactl<span class="w"> </span>libnuma-dev<span class="w"> </span>autoconf<span class="w"> </span>automake<span class="w"> </span>gcc<span class="w"> </span>g++<span class="w"> </span>git<span class="w"> </span>libtool

<span class="c"># Download and build an ABI compatible MPICH</span>
<span class="k">RUN</span><span class="w"> </span>curl<span class="w"> </span>-sSLO<span class="w"> </span>http://www.mpich.org/static/downloads/3.4.2/mpich-3.4.2.tar.gz<span class="w"> </span><span class="se">\</span>
<span class="w">   </span><span class="o">&amp;&amp;</span><span class="w"> </span>tar<span class="w"> </span>-xzf<span class="w"> </span>mpich-3.4.2.tar.gz<span class="w"> </span>-C<span class="w"> </span>/root<span class="w"> </span><span class="se">\</span>
<span class="w">   </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/root/mpich-3.4.2<span class="w"> </span><span class="se">\</span>
<span class="w">   </span><span class="o">&amp;&amp;</span><span class="w"> </span>./configure<span class="w"> </span>--prefix<span class="o">=</span>/usr<span class="w"> </span>--with-device<span class="o">=</span>ch4:ofi<span class="w"> </span>--disable-fortran<span class="w"> </span><span class="se">\</span>
<span class="w">   </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span>-j8<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w">   </span><span class="o">&amp;&amp;</span><span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>/root/mpich-3.4.2<span class="w"> </span><span class="se">\</span>
<span class="w">   </span><span class="o">&amp;&amp;</span><span class="w"> </span>rm<span class="w"> </span>/mpich-3.4.2.tar.gz

<span class="c"># OSU benchmarks</span>
<span class="k">RUN</span><span class="w"> </span>curl<span class="w"> </span>-sSLO<span class="w"> </span>http://mvapich.cse.ohio-state.edu/download/mvapich/osu-micro-benchmarks-5.4.1.tar.gz<span class="w"> </span><span class="se">\</span>
<span class="w">   </span><span class="o">&amp;&amp;</span><span class="w"> </span>tar<span class="w"> </span>-xzf<span class="w"> </span>osu-micro-benchmarks-5.4.1.tar.gz<span class="w"> </span>-C<span class="w"> </span>/root<span class="w"> </span><span class="se">\</span>
<span class="w">   </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/root/osu-micro-benchmarks-5.4.1<span class="w"> </span><span class="se">\</span>
<span class="w">   </span><span class="o">&amp;&amp;</span><span class="w"> </span>./configure<span class="w"> </span>--prefix<span class="o">=</span>/usr/local<span class="w"> </span><span class="nv">CC</span><span class="o">=</span>/usr/bin/mpicc<span class="w"> </span><span class="nv">CXX</span><span class="o">=</span>/usr/bin/mpicxx<span class="w"> </span><span class="se">\</span>
<span class="w">   </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>mpi<span class="w"> </span><span class="se">\</span>
<span class="w">   </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span>-j8<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w">   </span><span class="o">&amp;&amp;</span><span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>/root/osu-micro-benchmarks-5.4.1<span class="w"> </span><span class="se">\</span>
<span class="w">   </span><span class="o">&amp;&amp;</span><span class="w"> </span>rm<span class="w"> </span>/osu-micro-benchmarks-5.4.1.tar.gz

<span class="c"># Add the OSU benchmark executables to the PATH</span>
<span class="k">ENV</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span>/usr/local/libexec/osu-micro-benchmarks/mpi/pt2pt:<span class="nv">$PATH</span>
<span class="k">ENV</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span>/usr/local/libexec/osu-micro-benchmarks/mpi/collective:<span class="nv">$PATH</span>

<span class="c"># path to mlx libraries in Ubuntu</span>
<span class="k">ENV</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/usr/lib/libibverbs:<span class="nv">$LD_LIBRARY_PATH</span>
</code></pre></div>
<p>A quick overview of what the above Dockerfile is doing:</p>
<ul>
<li>The image is being bootstrapped from the <code>ubuntu:20.04</code> Docker image.</li>
<li>The first set of <code>RUN</code> sections with <code>apt-get</code> commands: install the base packages required from the Ubunntu package repos</li>
<li>MPICH install: downloads and compiles the MPICH 3.4.2 in a way that is compatible with Cray MPICH on ARCHER2</li>
<li>OSU MPI benchmarks install: downloads and compiles the OSU micro benchmarks</li>
<li><code>ENV</code> sections: add the OSU benchmark executables to the PATH so they can be executed in the container without specifying the full path; set the correct paths to the network libraries within the container.</li>
</ul>
<p>Now we can go ahead and build the container image using Docker (this assumes that
you issue the command in the same directory as the Dockerfile you created based on
the specification above):</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>build<span class="w"> </span>--platform<span class="w"> </span>linux/amd64<span class="w"> </span>-t<span class="w"> </span>auser/osu-benchmarks:5.4.1<span class="w"> </span>.
</code></pre></div>
<p>(Remember to change <code>auser</code> to your Dockerhub username.)</p>
<p>Once you have successfully built your container image, you should push it to
Dockerhub:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>push<span class="w"> </span>auser/osu-benchmarks:5.4.1
</code></pre></div>
<p>Finally, you need to use Singularity on ARCHER2 to convert the Docker container image
to a Singularity container image file. Log into ARCHER2, move to the work file system
and then use a command like:</p>
<div class="highlight"><pre><span></span><code>auser@ln01:/work/t01/t01/auser&gt;<span class="w"> </span>singularity<span class="w"> </span>build<span class="w"> </span>osu-benchmarks_5.4.1.sif<span class="w"> </span>docker://auser/osu-benchmarks:5.4.1
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can find a copy of the <code>osu-benchmarks_5.4.1.sif</code> image on ARCHER2 in the directory
<code>$EPCC_SINGULARITY_DIR</code> if you do not want to build it yourself but still want to
test.</p>
</div>
<h3 id="running-parallel-mpi-jobs-using-singularity-containers">Running parallel MPI jobs using Singularity containers</h3>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>These instructions assume you have built a Singularity container image file on 
ARCHER2 that includes MPI provided by MPICH with the OFI interface.
See the sections above for how to build such container images.</p>
</div>
<p>Once you have built your Singularity container image file that includes MPICH built with
OFI for ARCHER2, you can use it to run parallel jobs in a similar way to
non-Singularity jobs. The example job submission script below uses the container image file
we built above with MPICH and the OSU benchmarks to run the Allreduce benchmark
on two nodes where all 128 cores on each node are used for MPI processes (so, 256
MPI processes in total).</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Slurm job options (name, compute nodes, job time)</span>
<span class="c1">#SBATCH --job-name=singularity_parallel</span>
<span class="c1">#SBATCH --time=0:10:0</span>
<span class="c1">#SBATCH --nodes=2</span>
<span class="c1">#SBATCH --ntasks-per-node=128</span>
<span class="c1">#SBATCH --cpus-per-task=1</span>

<span class="c1"># Replace [budget code] below with your budget code (e.g. t01)</span>
<span class="c1">#SBATCH --partition=standard</span>
<span class="c1">#SBATCH --qos=standard</span>
<span class="c1">#SBATCH --account=[budget code]</span>

<span class="c1"># Load the module to make the Cray MPICH ABI available</span>
module<span class="w"> </span>load<span class="w"> </span>cray-mpich-abi

<span class="nb">export</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="m">1</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">SRUN_CPUS_PER_TASK</span><span class="o">=</span><span class="nv">$SLURM_CPUS_PER_TASK</span>

<span class="c1"># Set the LD_LIBRARY_PATH environment variable within the Singularity container</span>
<span class="c1"># to ensure that it used the correct MPI libraries.</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">SINGULARITYENV_LD_LIBRARY_PATH</span><span class="o">=</span><span class="s2">&quot;/opt/cray/pe/mpich/8.1.23/ofi/gnu/9.1/lib-abi-mpich:/opt/cray/pe/mpich/8.1.23/gtl/lib:/opt/cray/libfabric/1.12.1.2.2.0.0/lib64:/opt/cray/pe/gcc-libs:/opt/cray/pe/gcc-libs:/opt/cray/pe/lib64:/opt/cray/pe/lib64:/opt/cray/xpmem/default/lib64:/usr/lib64/libibverbs:/usr/lib64:/usr/lib64&quot;</span>

<span class="c1"># This makes sure HPE Cray Slingshot interconnect libraries are available</span>
<span class="c1"># from inside the container.</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">SINGULARITY_BIND</span><span class="o">=</span><span class="s2">&quot;/opt/cray,/var/spool,/opt/cray/pe/mpich/8.1.23/ofi/gnu/9.1/lib-abi-mpich:/opt/cray/pe/mpich/8.1.23/gtl/lib,/etc/host.conf,/etc/libibverbs.d/mlx5.driver,/etc/libnl/classid,/etc/resolv.conf,/opt/cray/libfabric/1.12.1.2.2.0.0/lib64/libfabric.so.1,/opt/cray/pe/gcc-libs/libatomic.so.1,/opt/cray/pe/gcc-libs/libgcc_s.so.1,/opt/cray/pe/gcc-libs/libgfortran.so.5,/opt/cray/pe/gcc-libs/libquadmath.so.0,/opt/cray/pe/lib64/libpals.so.0,/opt/cray/pe/lib64/libpmi2.so.0,/opt/cray/pe/lib64/libpmi.so.0,/opt/cray/xpmem/default/lib64/libxpmem.so.0,/run/munge/munge.socket.2,/usr/lib64/libibverbs/libmlx5-rdmav34.so,/usr/lib64/libibverbs.so.1,/usr/lib64/libkeyutils.so.1,/usr/lib64/liblnetconfig.so.4,/usr/lib64/liblustreapi.so,/usr/lib64/libmunge.so.2,/usr/lib64/libnl-3.so.200,/usr/lib64/libnl-genl-3.so.200,/usr/lib64/libnl-route-3.so.200,/usr/lib64/librdmacm.so.1,/usr/lib64/libyaml-0.so.2&quot;</span>

<span class="c1"># Launch the parallel job.</span>
srun<span class="w"> </span>--hint<span class="o">=</span>nomultithread<span class="w"> </span>--distribution<span class="o">=</span>block:block<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>singularity<span class="w"> </span>run<span class="w"> </span>osu-benchmarks_5.4.1.sif<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>osu_allreduce
</code></pre></div>
<p>The only changes from a standard submission script are:</p>
<ul>
<li>We set the environment variable <code>SINGULARITY_LD_LIBRARY_PATH</code> to ensure that the excutable can find the correct libraries are available within the container to be able to use HPE Cray Slingshot interconnect.</li>
<li>We set the environment variable <code>SINGULARITY_BIND</code> to ensure that the correct libraries are available within the container to be able to use HPE Cray Slingshot interconnect.</li>
<li><code>srun</code> calls the <code>singularity</code> software with the container image file we created rather than the parallel program directly.</li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Remember that the image file must be located on <code>/work</code> to run jobs on the
compute nodes.</p>
</div>
<p>If the job runs correctly, you should see output similar to the following in your <code>slurm-*.out</code> 
file:</p>
<div class="highlight"><pre><span></span><code>Lmod is automatically replacing &quot;cray-mpich/8.1.23&quot; with
&quot;cray-mpich-abi/8.1.23&quot;.


# OSU MPI Allreduce Latency Test v5.4.1
# Size       Avg Latency(us)
4                       7.93
8                       7.93
16                      8.13
32                      8.69
64                      9.54
128                    13.75
256                    17.04
512                    25.94
1024                   29.43
2048                   43.53
4096                   46.53
8192                   46.20
16384                  55.85
32768                  83.11
65536                 136.90
131072                257.13
262144                486.50
524288               1025.87
1048576              2173.25
</code></pre></div>
<h2 id="using-containerised-hpe-cray-programming-environments">Using Containerised HPE Cray Programming Environments</h2>
<p>An experimental containerised CPE module has been setup on ARCHER2. The module is not available by default
but can be made accessible by running <code>module use</code> with the right path.</p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>use<span class="w"> </span>/work/y07/shared/archer2-lmod/others/dev
module<span class="w"> </span>load<span class="w"> </span>ccpe/23.12
</code></pre></div>
<p>The purpose of the <code>ccpe</code> module(s) is to allow developers to check that their code compiles with the
latest Cray Programming Environment (CPE) releases. The CPE release installed on ARCHER2 (currently
CPE 22.12) will typically be older than the latest available. A more recent containerised CPE therefore
gives developers the opportunity to try out the latest compilers and libraries before the ARCHER CPE
is upgraded.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Containerised CPEs support CCE and GCC compilers, but not AOCC compilers.</p>
</div>
<p>The <code>ccpe/23.12</code> module then provides access to CPE 23.12 via a Singularity image file, located at
<code>/work/y07/shared/utils/dev/ccpe/23.12/cpe_23.12.sif</code>. Singularity containers can be run such that locations
on the host file system are still visible. This means source code stored on <code>/work</code> can be compiled from
inside the CPE container. And any output resulting from the compilation, such as object files, libraries
and executables, can be written to <code>/work</code> also. This ability to bind to locations on the host is
necessary as the container is immutable, i.e., you cannot write files to the container itself.</p>
<p>Any executable resulting from a containerised CPE build can be run from within the container,
allowing the developer to test the performance of the containerised libraries, e.g., <code>libmpi_cray</code>,
<code>libpmi2</code>, <code>libfabric</code>.</p>
<p>We'll now show how to build and run a simple Hello World MPI example using a containerised CPE.</p>
<p>First, <code>cd</code> to the directory containing the Hello World MPI source, makefile and build script.
Examples of these files are given below.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">build.sh</label><label for="__tabbed_1_2">makefile</label><label for="__tabbed_1_3">helloworld.f90</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

make<span class="w"> </span>clean
make

<span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\n\nldd helloworld&quot;</span>
ldd<span class="w"> </span>helloworld
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nv">MF</span><span class="o">=</span><span class="w">     </span>Makefile

<span class="nv">FC</span><span class="o">=</span><span class="w">     </span>ftn
<span class="nv">FFLAGS</span><span class="o">=</span><span class="w"> </span>-O3
<span class="nv">LFLAGS</span><span class="o">=</span><span class="w"> </span>-lmpichf90

<span class="nv">EXE</span><span class="o">=</span><span class="w">    </span>helloworld
<span class="nv">FSRC</span><span class="o">=</span><span class="w">   </span>helloworld.f90

<span class="c">#</span>
<span class="c"># No need to edit below this line</span>
<span class="c">#</span>

<span class="nf">.SUFFIXES</span><span class="o">:</span>
<span class="nf">.SUFFIXES</span><span class="o">:</span><span class="w"> </span>.<span class="n">f</span>90 .<span class="n">o</span>

<span class="nv">OBJ</span><span class="o">=</span><span class="w">    </span><span class="k">$(</span>FSRC:.f90<span class="o">=</span>.o<span class="k">)</span>

<span class="nf">.f90.o</span><span class="o">:</span>
<span class="w">    </span><span class="k">$(</span>FC<span class="k">)</span><span class="w"> </span><span class="k">$(</span>FFLAGS<span class="k">)</span><span class="w"> </span>-c<span class="w"> </span>$&lt;

<span class="nf">all</span><span class="o">:</span><span class="w">    </span><span class="k">$(</span><span class="nv">EXE</span><span class="k">)</span>

<span class="nf">$(EXE)</span><span class="o">:</span><span class="w"> </span><span class="k">$(</span><span class="nv">OBJ</span><span class="k">)</span>
<span class="w">    </span><span class="k">$(</span>FC<span class="k">)</span><span class="w"> </span><span class="k">$(</span>FFLAGS<span class="k">)</span><span class="w"> </span>-o<span class="w"> </span><span class="nv">$@</span><span class="w"> </span><span class="k">$(</span>OBJ<span class="k">)</span><span class="w"> </span><span class="k">$(</span>LFLAGS<span class="k">)</span>

<span class="nf">clean</span><span class="o">:</span>
<span class="w">    </span>rm<span class="w"> </span>-f<span class="w"> </span><span class="k">$(</span>OBJ<span class="k">)</span><span class="w"> </span><span class="k">$(</span>EXE<span class="k">)</span><span class="w"> </span>core
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c">!</span>
<span class="c">! Prints &#39;Hello World&#39; from rank 0 and</span>
<span class="c">! prints what processor it is out of the total number of processors from</span>
<span class="c">! all ranks</span>
<span class="c">!</span>

<span class="k">program </span><span class="n">helloworld</span>
<span class="w">  </span><span class="k">use </span><span class="n">mpi</span>

<span class="w">  </span><span class="k">implicit none</span>

<span class="k">  </span><span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">comm</span><span class="p">,</span><span class="w"> </span><span class="n">rank</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">ierr</span>
<span class="w">  </span><span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">last_arg</span>

<span class="w">  </span><span class="n">comm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MPI_COMM_WORLD</span>

<span class="w">  </span><span class="k">call </span><span class="n">MPI_INIT</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>

<span class="w">  </span><span class="k">call </span><span class="n">MPI_COMM_RANK</span><span class="p">(</span><span class="n">comm</span><span class="p">,</span><span class="w"> </span><span class="n">rank</span><span class="p">,</span><span class="w"> </span><span class="n">ierr</span><span class="p">)</span>
<span class="w">  </span><span class="k">call </span><span class="n">MPI_COMM_SIZE</span><span class="p">(</span><span class="n">comm</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">ierr</span><span class="p">)</span>

<span class="w">  </span><span class="c">! Each process prints out its rank</span>
<span class="w">  </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;I am &#39;</span><span class="p">,</span><span class="w"> </span><span class="n">rank</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;out of &#39;</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="s1">&#39; processors.&#39;</span>

<span class="w">  </span><span class="k">call </span><span class="nb">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="w">  </span><span class="k">call </span><span class="n">MPI_FINALIZE</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>

<span class="k">end program </span><span class="n">helloworld</span>
</code></pre></div>
</div>
</div>
</div>
<p>The <code>ldd</code> command at the end of the build script is simply there to confirm that the code is indeed linked to
containerised libraries that form part of the CPE 23.12 release.</p>
<p>The next step is to launch a job (via <code>sbatch</code>) on a serial node that instantiates the containerised CPE 23.12
image and builds the Hello World MPI code.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:1"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">submit-build.slurm</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="kp">#SBATCH --job-name=ccpe-build</span>
<span class="kp">#SBATCH --ntasks=8</span>
<span class="kp">#SBATCH --time=00:10:00</span>
<span class="kp">#SBATCH --account=&lt;budget code&gt;</span>
<span class="kp">#SBATCH --partition=serial</span>
<span class="kp">#SBATCH --qos=serial</span>
<span class="kp">#SBATCH --export=none</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="m">1</span>

module<span class="w"> </span>use<span class="w"> </span>/work/y07/shared/archer2-lmod/others/dev
module<span class="w"> </span>load<span class="w"> </span>ccpe/23.12

<span class="nv">BUILD_CMD</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CCPE_BUILDER</span><span class="si">}</span><span class="s2"> </span><span class="si">${</span><span class="nv">SLURM_SUBMIT_DIR</span><span class="si">}</span><span class="s2">/build.sh&quot;</span>

singularity<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>--cleanenv<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--bind<span class="w"> </span><span class="si">${</span><span class="nv">CCPE_BIND_ARGS</span><span class="si">}</span>,<span class="si">${</span><span class="nv">SLURM_SUBMIT_DIR</span><span class="si">}</span><span class="w"> </span>--env<span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="si">${</span><span class="nv">CCPE_LD_LIBRARY_PATH</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="si">${</span><span class="nv">CCPE_IMAGE_FILE</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">BUILD_CMD</span><span class="si">}</span>
</code></pre></div>
</div>
</div>
</div>
<p>The <code>CCPE</code> environment variables shown above (e.g., <code>CCPE_BUILDER</code> and <code>CCPE_IMAGE_FILE</code>) are set by the
loading of the <code>ccpe/23.12</code> module. The <code>CCPE_BUILDER</code> variable holds the path to the script that prepares the
containerised environment prior to running the <code>build.sh</code> script. You can run <code>cat ${CCPE_BUILDER}</code> to take
a closer look at what is going on.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Passing the <code>${SLURM_SUBMIT_DIR}</code> path to Singularity via the <code>--bind</code> option allows the CPE container
to access the source code and write out the executable using locations on the host.</p>
</div>
<p>Running the newly-built code is similarly straightforward; this time the containerised CPE is launched on the
compute nodes using the <code>srun</code> command.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:1"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">submit-run.slurm</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="kp">#SBATCH --job-name=helloworld</span>
<span class="kp">#SBATCH --nodes=2</span>
<span class="kp">#SBATCH --tasks-per-node=128</span>
<span class="kp">#SBATCH --cpus-per-task=1</span>
<span class="kp">#SBATCH --time=00:20:00</span>
<span class="kp">#SBATCH --account=&lt;budget code&gt;</span>
<span class="kp">#SBATCH --partition=standard</span>
<span class="kp">#SBATCH --qos=short</span>
<span class="kp">#SBATCH --export=none</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="m">1</span>

module<span class="w"> </span>use<span class="w"> </span>/work/y07/shared/archer2-lmod/others/dev
module<span class="w"> </span>load<span class="w"> </span>ccpe/23.12

<span class="nv">RUN_CMD</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">SLURM_SUBMIT_DIR</span><span class="si">}</span><span class="s2">/helloworld&quot;</span>

<span class="nb">srun</span><span class="w"> </span>--distribution<span class="o">=</span>block:block<span class="w"> </span>--hint<span class="o">=</span>nomultithread<span class="w"> </span>--chdir<span class="o">=</span><span class="si">${</span><span class="nv">SLURM_SUBMIT_DIR</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>singularity<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>--bind<span class="w"> </span><span class="si">${</span><span class="nv">CCPE_BIND_ARGS</span><span class="si">}</span>,<span class="si">${</span><span class="nv">SLURM_SUBMIT_DIR</span><span class="si">}</span><span class="w"> </span>--env<span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="si">${</span><span class="nv">CCPE_LD_LIBRARY_PATH</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span><span class="si">${</span><span class="nv">CCPE_IMAGE_FILE</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">RUN_CMD</span><span class="si">}</span>
</code></pre></div>
</div>
</div>
</div>
<p>If you wish you can at runtime replace a containerised library with its host equivalent. You may for example decide to
do this for a low-level communications library such as <code>libfabric</code> or <code>libpmi</code>. This can be done by adding (before the
<code>srun</code> command) something like the following line to the <code>submit-run.slurm</code> file.</p>
<div class="highlight"><pre><span></span><code><span class="nb">source</span><span class="w"> </span><span class="si">${</span><span class="nv">CCPE_SET_HOST_PATH</span><span class="si">}</span><span class="w"> </span><span class="s2">&quot;/opt/cray/pe/pmi&quot;</span><span class="w"> </span><span class="s2">&quot;6.1.8&quot;</span><span class="w"> </span><span class="s2">&quot;lib&quot;</span>
</code></pre></div>
<p>As of April 2024, the version of PMI available on ARCHER2 is 6.1.8 (CPE 22.12), and so the command above would allow
you to isolate the impact of the containerised PMI library, which for CPE 23.12 is PMI 6.1.13. To see how the setting
of the host library is done, simply run <code>cat ${CCPE_SET_HOST_PATH}</code> after loading the <code>ccpe</code> module.</p>
<p>An MPI code that just prints a message from each rank is obviously very simple. Real-world codes such as CP2K or GROMACS
will often require additional software for compilation, e.g., Intel MKL libraries or tools that control the build process
such as <code>CMake</code>. The way round this sort of problem is to point the CCPE container at the locations on the host where the
software is installed.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:1"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">submit-cmake-build.slurm</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="kp">#SBATCH --job-name=ccpe-build</span>
<span class="kp">#SBATCH --ntasks=8</span>
<span class="kp">#SBATCH --time=00:10:00</span>
<span class="kp">#SBATCH --account=&lt;budget code&gt;</span>
<span class="kp">#SBATCH --partition=serial</span>
<span class="kp">#SBATCH --qos=serial</span>
<span class="kp">#SBATCH --export=none</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="m">1</span>

module<span class="w"> </span>use<span class="w"> </span>/work/y07/shared/archer2-lmod/others/dev
module<span class="w"> </span>load<span class="w"> </span>ccpe/23.12

<span class="nv">CMAKE_DIR</span><span class="o">=</span><span class="s2">&quot;/work/y07/shared/utils/core/cmake/3.21.3&quot;</span>

<span class="nv">BUILD_CMD</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CCPE_BUILDER</span><span class="si">}</span><span class="s2"> </span><span class="si">${</span><span class="nv">SLURM_SUBMIT_DIR</span><span class="si">}</span><span class="s2">/build.sh&quot;</span>

singularity<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>--cleanenv<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--bind<span class="w"> </span><span class="si">${</span><span class="nv">CCPE_BIND_ARGS</span><span class="si">}</span>,<span class="si">${</span><span class="nv">CMAKE_DIR</span><span class="si">}</span>,<span class="si">${</span><span class="nv">SLURM_SUBMIT_DIR</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--env<span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="si">${</span><span class="nv">CCPE_LD_LIBRARY_PATH</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="si">${</span><span class="nv">CCPE_IMAGE_FILE</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">BUILD_CMD</span><span class="si">}</span>
</code></pre></div>
</div>
</div>
</div>
<p>The <code>submit-cmake-build.slurm</code> script shows how the <code>--bind</code> option can be used to make the <code>CMake</code> installation on ARCHER2
accessible from within the container. The <code>build.sh</code> script can then call the <code>cmake</code> command directly (once the <code>CMake</code>
bin directory has been added to the <code>PATH</code> environment variable).</p>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/ARCHER2-HPC" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/ARCHER2_HPC" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/groups/13848871/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["tabs"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.af256bd8.min.js"></script>
      
    
  </body>
</html>