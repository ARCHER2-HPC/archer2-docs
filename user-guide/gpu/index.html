
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../energy/">
      
      
        <link rel="next" href="../../research-software/">
      
      
      <link rel="icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.21">
    
    
      
        <title>GPU development platform - ARCHER2 User Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.66ac8b77.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/archer2.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-XVNML97F1T"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-XVNML97F1T",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-XVNML97F1T",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#amd-gpu-development-platform" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ARCHER2 User Documentation" class="md-header__button md-logo" aria-label="ARCHER2 User Documentation" data-md-component="logo">
      
  <img src="../../images/archer2_white_transparent.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ARCHER2 User Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              GPU development platform
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ARCHER2-HPC/archer2-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ARCHER2-HPC/archer2-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ARCHER2 User Documentation" class="md-nav__button md-logo" aria-label="ARCHER2 User Documentation" data-md-component="logo">
      
  <img src="../../images/archer2_white_transparent.png" alt="logo">

    </a>
    ARCHER2 User Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ARCHER2-HPC/archer2-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ARCHER2-HPC/archer2-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Quickstart
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Quickstart
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick-start/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick-start/quickstart-users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart for users
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick-start/quickstart-developers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart for developers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick-start/quickstart-next-steps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart next steps
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../known-issues/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ARCHER2 Known Issues
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ARCHER2 Frequently Asked Questions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            ARCHER2 Frequently Asked Questions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General FAQ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User and Best Practice Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            User and Best Practice Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hardware
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connecting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connecting to ARCHER2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data management and transfer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sw-environment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scheduler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    I/O and file systems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev-environment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Application development environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../containers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Containers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../machine-learning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Machine Learning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../profile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profiling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tuning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Performance tuning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../energy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Energy use
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    GPU development platform
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    GPU development platform
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#hardware-available" class="md-nav__link">
    <span class="md-ellipsis">
      Hardware available
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-the-gpu-compute-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing the GPU compute nodes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compiling-software-for-the-gpu-compute-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Compiling software for the GPU compute nodes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compiling software for the GPU compute nodes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#programming-environments" class="md-nav__link">
    <span class="md-ellipsis">
      Programming Environments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rocm" class="md-nav__link">
    <span class="md-ellipsis">
      ROCm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpu-target" class="md-nav__link">
    <span class="md-ellipsis">
      GPU target
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpu-target" class="md-nav__link">
    <span class="md-ellipsis">
      CPU target
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compilation-strategies-for-gpu-offloading" class="md-nav__link">
    <span class="md-ellipsis">
      Compilation Strategies for GPU Offloading
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compilation Strategies for GPU Offloading">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#openmp-offload" class="md-nav__link">
    <span class="md-ellipsis">
      OpenMP Offload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hip" class="md-nav__link">
    <span class="md-ellipsis">
      HIP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openacc" class="md-nav__link">
    <span class="md-ellipsis">
      OpenACC
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-compilation" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Compilation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Compilation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#openmp-offload-openmp-cpu-threading" class="md-nav__link">
    <span class="md-ellipsis">
      OpenMP Offload + OpenMP CPU threading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hip-openmp-offload" class="md-nav__link">
    <span class="md-ellipsis">
      HIP + OpenMP Offload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hip-openmp-cpu-threading" class="md-nav__link">
    <span class="md-ellipsis">
      HIP + OpenMP CPU threading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hipcc-and-mpi" class="md-nav__link">
    <span class="md-ellipsis">
      HIPCC and MPI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmake" class="md-nav__link">
    <span class="md-ellipsis">
      Cmake
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu-aware-mpi" class="md-nav__link">
    <span class="md-ellipsis">
      GPU-aware MPI
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GPU-aware MPI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#libraries" class="md-nav__link">
    <span class="md-ellipsis">
      Libraries
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Python Environment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-software" class="md-nav__link">
    <span class="md-ellipsis">
      Supported software
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-jobs-on-the-gpu-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Running jobs on the GPU nodes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running jobs on the GPU nodes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#slurm-partitions" class="md-nav__link">
    <span class="md-ellipsis">
      Slurm Partitions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slurm-quality-of-service-qos" class="md-nav__link">
    <span class="md-ellipsis">
      Slurm Quality of Service (QoS)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-job-submission-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Example job submission scripts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      Single GPU
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-gpu-on-a-single-node-shared-node-access-max-2-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple GPU on a single node - shared node access (max. 2 GPU)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-gpu-on-a-single-node-exclusive-node-access-max-4-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple GPU on a single node - exclusive node access (max. 4 GPU)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-gpu-on-multiple-nodes-exclusive-node-access-max-8-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple GPU on multiple nodes - exclusive node access (max. 8 GPU)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive jobs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interactive jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-salloc" class="md-nav__link">
    <span class="md-ellipsis">
      Using salloc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-srun" class="md-nav__link">
    <span class="md-ellipsis">
      Using srun
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Environment variables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Environment variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rocr_visible_devices" class="md-nav__link">
    <span class="md-ellipsis">
      ROCR_VISIBLE_DEVICES
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hip-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      HIP Environment variables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HIP Environment variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#amd_log_level" class="md-nav__link">
    <span class="md-ellipsis">
      AMD_LOG_LEVEL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amd_log_mask" class="md-nav__link">
    <span class="md-ellipsis">
      AMD_LOG_MASK
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hip_visible_devices" class="md-nav__link">
    <span class="md-ellipsis">
      HIP_VISIBLE_DEVICES:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amd_serialize_kernel" class="md-nav__link">
    <span class="md-ellipsis">
      AMD_SERIALIZE_KERNEL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amd_serialize_copy" class="md-nav__link">
    <span class="md-ellipsis">
      AMD_SERIALIZE_COPY
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hip_host_coherent" class="md-nav__link">
    <span class="md-ellipsis">
      HIP_HOST_COHERENT
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openmp-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      OpenMP Environment variables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OpenMP Environment variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#omp_default_device" class="md-nav__link">
    <span class="md-ellipsis">
      OMP_DEFAULT_DEVICE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#omp_num_teams" class="md-nav__link">
    <span class="md-ellipsis">
      OMP_NUM_TEAMS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpu_max_hw_queues" class="md-nav__link">
    <span class="md-ellipsis">
      GPU_MAX_HW_QUEUES
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mpi-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      MPI Environment variables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MPI Environment variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mpich_gpu_support_enabled" class="md-nav__link">
    <span class="md-ellipsis">
      MPICH_GPU_SUPPORT_ENABLED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hsa_enable_sdma" class="md-nav__link">
    <span class="md-ellipsis">
      HSA_ENABLE_SDMA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mpich_ofi_nic_policy" class="md-nav__link">
    <span class="md-ellipsis">
      MPICH_OFI_NIC_POLICY
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mpich_ofi_nic_verbose" class="md-nav__link">
    <span class="md-ellipsis">
      MPICH_OFI_NIC_VERBOSE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debugging" class="md-nav__link">
    <span class="md-ellipsis">
      Debugging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profiling" class="md-nav__link">
    <span class="md-ellipsis">
      Profiling
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-tuning" class="md-nav__link">
    <span class="md-ellipsis">
      Performance tuning
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance tuning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hardware-details" class="md-nav__link">
    <span class="md-ellipsis">
      Hardware details
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-topology" class="md-nav__link">
    <span class="md-ellipsis">
      Node Topology
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rocm-bandwidth-test" class="md-nav__link">
    <span class="md-ellipsis">
      rocm-bandwidth-test
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tools" class="md-nav__link">
    <span class="md-ellipsis">
      Tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rocm-smi" class="md-nav__link">
    <span class="md-ellipsis">
      rocm-smi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hipify" class="md-nav__link">
    <span class="md-ellipsis">
      HIPIFY
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes-and-useful-links" class="md-nav__link">
    <span class="md-ellipsis">
      Notes and useful links
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Research Software
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Research Software
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/casino/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CASINO
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/castep/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CASTEP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/cesm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CESM2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/chemshell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chemshell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/code-saturne/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code_Saturne
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/cp2k/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CP2K
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/crystal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CRYSTAL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/fhi-aims/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FHI-aims
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/gromacs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GROMACS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/lammps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LAMMPS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/mitgcm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MITgcm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/mo-unified-model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Met Office Unified Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/namd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NAMD
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/nektarplusplus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nektar++
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/nemo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NEMO
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/nwchem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NWChem
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/onetep/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ONETEP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/openfoam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenFOAM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/orca/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ORCA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/qe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quantum Espresso
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research-software/vasp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VASP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software Libraries
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Software Libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/libsci/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HPE Cray LibSci: BLAS, LAPACK, ScaLAPACK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/fftw/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FFTW
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/hdf5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HDF5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/netcdf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NetCDF
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/adios/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADIOS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/aocl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AOCL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/arpack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ARPACK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/boost/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Boost
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/eigen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eigen
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/glm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GLM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/hypre/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HYPRE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/matio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Matio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/mkl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intel MKL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/mesa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MESA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/mumps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MUMPS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/petsc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PETSc
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/metis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metis/Parmetis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/scotch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scotch/PT-Scotch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/slepc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SLEPc
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/superlu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SuperLU/SuperLU_DIST
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/trilinos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trilinos
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data Analysis and Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Data Analysis and Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/amd-uprof/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AMD uProf
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/arm-forge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arm Forge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/darshan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Darshan
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/pm-mpi-lib/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Energy Counters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/julia/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Julia
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/paraview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ParaView
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/cray-r/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/visidata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VisiData
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-tools/vmd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VMD
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../essentials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Essential Skills
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../publish/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ARCHER2 and Publications
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#hardware-available" class="md-nav__link">
    <span class="md-ellipsis">
      Hardware available
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-the-gpu-compute-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing the GPU compute nodes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compiling-software-for-the-gpu-compute-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Compiling software for the GPU compute nodes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compiling software for the GPU compute nodes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#programming-environments" class="md-nav__link">
    <span class="md-ellipsis">
      Programming Environments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rocm" class="md-nav__link">
    <span class="md-ellipsis">
      ROCm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpu-target" class="md-nav__link">
    <span class="md-ellipsis">
      GPU target
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpu-target" class="md-nav__link">
    <span class="md-ellipsis">
      CPU target
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compilation-strategies-for-gpu-offloading" class="md-nav__link">
    <span class="md-ellipsis">
      Compilation Strategies for GPU Offloading
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compilation Strategies for GPU Offloading">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#openmp-offload" class="md-nav__link">
    <span class="md-ellipsis">
      OpenMP Offload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hip" class="md-nav__link">
    <span class="md-ellipsis">
      HIP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openacc" class="md-nav__link">
    <span class="md-ellipsis">
      OpenACC
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-compilation" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Compilation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Compilation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#openmp-offload-openmp-cpu-threading" class="md-nav__link">
    <span class="md-ellipsis">
      OpenMP Offload + OpenMP CPU threading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hip-openmp-offload" class="md-nav__link">
    <span class="md-ellipsis">
      HIP + OpenMP Offload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hip-openmp-cpu-threading" class="md-nav__link">
    <span class="md-ellipsis">
      HIP + OpenMP CPU threading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hipcc-and-mpi" class="md-nav__link">
    <span class="md-ellipsis">
      HIPCC and MPI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmake" class="md-nav__link">
    <span class="md-ellipsis">
      Cmake
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu-aware-mpi" class="md-nav__link">
    <span class="md-ellipsis">
      GPU-aware MPI
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GPU-aware MPI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#libraries" class="md-nav__link">
    <span class="md-ellipsis">
      Libraries
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Python Environment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-software" class="md-nav__link">
    <span class="md-ellipsis">
      Supported software
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-jobs-on-the-gpu-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Running jobs on the GPU nodes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running jobs on the GPU nodes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#slurm-partitions" class="md-nav__link">
    <span class="md-ellipsis">
      Slurm Partitions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slurm-quality-of-service-qos" class="md-nav__link">
    <span class="md-ellipsis">
      Slurm Quality of Service (QoS)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-job-submission-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Example job submission scripts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      Single GPU
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-gpu-on-a-single-node-shared-node-access-max-2-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple GPU on a single node - shared node access (max. 2 GPU)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-gpu-on-a-single-node-exclusive-node-access-max-4-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple GPU on a single node - exclusive node access (max. 4 GPU)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-gpu-on-multiple-nodes-exclusive-node-access-max-8-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple GPU on multiple nodes - exclusive node access (max. 8 GPU)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive jobs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interactive jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-salloc" class="md-nav__link">
    <span class="md-ellipsis">
      Using salloc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-srun" class="md-nav__link">
    <span class="md-ellipsis">
      Using srun
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Environment variables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Environment variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rocr_visible_devices" class="md-nav__link">
    <span class="md-ellipsis">
      ROCR_VISIBLE_DEVICES
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hip-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      HIP Environment variables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HIP Environment variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#amd_log_level" class="md-nav__link">
    <span class="md-ellipsis">
      AMD_LOG_LEVEL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amd_log_mask" class="md-nav__link">
    <span class="md-ellipsis">
      AMD_LOG_MASK
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hip_visible_devices" class="md-nav__link">
    <span class="md-ellipsis">
      HIP_VISIBLE_DEVICES:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amd_serialize_kernel" class="md-nav__link">
    <span class="md-ellipsis">
      AMD_SERIALIZE_KERNEL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amd_serialize_copy" class="md-nav__link">
    <span class="md-ellipsis">
      AMD_SERIALIZE_COPY
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hip_host_coherent" class="md-nav__link">
    <span class="md-ellipsis">
      HIP_HOST_COHERENT
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openmp-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      OpenMP Environment variables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OpenMP Environment variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#omp_default_device" class="md-nav__link">
    <span class="md-ellipsis">
      OMP_DEFAULT_DEVICE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#omp_num_teams" class="md-nav__link">
    <span class="md-ellipsis">
      OMP_NUM_TEAMS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpu_max_hw_queues" class="md-nav__link">
    <span class="md-ellipsis">
      GPU_MAX_HW_QUEUES
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mpi-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      MPI Environment variables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MPI Environment variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mpich_gpu_support_enabled" class="md-nav__link">
    <span class="md-ellipsis">
      MPICH_GPU_SUPPORT_ENABLED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hsa_enable_sdma" class="md-nav__link">
    <span class="md-ellipsis">
      HSA_ENABLE_SDMA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mpich_ofi_nic_policy" class="md-nav__link">
    <span class="md-ellipsis">
      MPICH_OFI_NIC_POLICY
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mpich_ofi_nic_verbose" class="md-nav__link">
    <span class="md-ellipsis">
      MPICH_OFI_NIC_VERBOSE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debugging" class="md-nav__link">
    <span class="md-ellipsis">
      Debugging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profiling" class="md-nav__link">
    <span class="md-ellipsis">
      Profiling
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-tuning" class="md-nav__link">
    <span class="md-ellipsis">
      Performance tuning
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance tuning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hardware-details" class="md-nav__link">
    <span class="md-ellipsis">
      Hardware details
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-topology" class="md-nav__link">
    <span class="md-ellipsis">
      Node Topology
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rocm-bandwidth-test" class="md-nav__link">
    <span class="md-ellipsis">
      rocm-bandwidth-test
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tools" class="md-nav__link">
    <span class="md-ellipsis">
      Tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rocm-smi" class="md-nav__link">
    <span class="md-ellipsis">
      rocm-smi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hipify" class="md-nav__link">
    <span class="md-ellipsis">
      HIPIFY
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes-and-useful-links" class="md-nav__link">
    <span class="md-ellipsis">
      Notes and useful links
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="amd-gpu-development-platform">AMD GPU Development Platform</h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This page is work in progress. More details on the GPU Development Platform
and how to use it will be added as they become available.</p>
</div>
<p>In early 2024 ARCHER2 users will gain access to a small GPU system
integrated into ARCHER2 which is designed to allow users to test and develop software
using AMD GPUs.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The GPU component is very small and so is aimed at software development and
testing rather than to be used for production research.</p>
</div>
<h2 id="hardware-available">Hardware available</h2>
<p>The GPU Development Platform consists of 4 compute nodes each with:</p>
<ul>
<li>1x AMD EPYC 7534P (Milan) processor, 32 core, 2.8 GHz</li>
<li>4x AMD Instinct MI210 accelerator</li>
<li>512 GiB host memory</li>
<li>2&times; 100 Gb/s Slingshot interfaces per node</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Further details on the hardware available will be added shortly.</p>
</div>
<h2 id="accessing-the-gpu-compute-nodes">Accessing the GPU compute nodes</h2>
<p>The GPU nodes can be accessed through the Slurm job submission system from the
standard ARCHER2 login nodes. Details of the scheduler limits and configuration
and example job submission scripts are provided below.</p>
<h2 id="compiling-software-for-the-gpu-compute-nodes">Compiling software for the GPU compute nodes</h2>
<h3 id="overview">Overview</h3>
<p>As a quick summary, the recommended procedure for compiling code that
offloads to the AMD GPUs is as follows:</p>
<ul>
<li>Load the desired Programming Environment module: <code>module load PrgEnv-xxx</code></li>
<li>Load the ROCm module: <code>module load rocm</code></li>
<li>Load the appropriate GPU target module <code>module load craype-accel-amd-gfx90a</code></li>
<li>Load the appropriate CPU target module: <code>module load craype-x86-milan</code></li>
<li>Load any other modules (e.g. libraries)</li>
<li>Use the usual compiler wrappers <code>ftn</code>, <code>cc</code>, or <code>CC</code></li>
</ul>
<p>For details and alternative approaches, see below.</p>
<h3 id="programming-environments">Programming Environments</h3>
<p>The following programming environments and compilers are available to
compile code for the AMD GPUs on ARCHER2 using the usual compiler
wrappers (<code>ftn</code>, <code>cc</code>, <code>CC</code>), which is the recommended approach:</p>
<table>
<thead>
<tr>
<th>Programming Environment</th>
<th>Description</th>
<th>Actual compilers called by <code>ftn</code>, <code>cc</code>, <code>CC</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PrgEnv-amd</code></td>
<td>AMD LLVM compilers</td>
<td><code>amdflang</code>, <code>amdclang</code>, <code>amdclang++</code></td>
</tr>
<tr>
<td><code>PrgEnv-cray</code></td>
<td>Cray compilers</td>
<td><code>crayftn</code>, <code>craycc</code>, <code>crayCC</code></td>
</tr>
<tr>
<td><code>PrgEnv-gnu</code></td>
<td>GNU compilers</td>
<td><code>gfortran</code>, <code>gcc</code>, <code>g++</code></td>
</tr>
<tr>
<td><code>PrgEnv-gnu-amd</code></td>
<td>hybrid</td>
<td><code>gfortran</code>, <code>amdclang</code>, <code>amdclang++</code></td>
</tr>
<tr>
<td><code>PrgEnv-cray-amd</code></td>
<td>hybrid</td>
<td><code>crayftn</code>, <code>amdclang</code>, <code>amdclang++</code></td>
</tr>
</tbody>
</table>
<p>To decide which compiler(s) to use to compile offload code for the AMD
GPUs, you may find it useful to consult the <a href="#compilation-strategies-for-gpu-offloading">Compilation Strategies
for GPU Offloading</a>
section below.</p>
<p>The hybrid environments <code>PrgEnv-gnu-amd</code> and <code>PrgEnv-cray-amd</code> are
provided as a convenient way to mitigate less mature OpenMP offload
support in the AMD LLVM Fortran compiler. In these hybrid environments
<code>ftn</code> therefore calls <code>gfortran</code> or <code>crayftn</code> instead of <code>amdflang</code>.</p>
<p>Details about the underlying compiler being called by a compiler
wrapper can be checked using the <code>--version</code> flag, for example:</p>
<div class="highlight"><pre><span></span><code>&gt; module load PrgEnv-amd
&gt; cc --version
AMD clang version 14.0.0 (https://github.com/RadeonOpenCompute/llvm-project roc-5.2.3 22324 d6c88e5a78066d5d7a1e8db6c5e3e9884c6ad10e)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.2.3/llvm/bin
</code></pre></div>
<h3 id="rocm">ROCm</h3>
<p>Access to AMD's ROCm software stack is provided through the <code>rocm</code>
module:</p>
<div class="highlight"><pre><span></span><code>module load rocm
</code></pre></div>
<p>With the <code>rocm</code> module loaded the AMD LLVM compilers <code>amdflang</code>,
<code>amdclang</code>, and <code>amdclang++</code> become available to use directly or
through AMD's compiler driver utility <code>hipcc</code>. Neither approach is
recommended as a first choice for most users, as considerable care
needs to be taken to pass suitable flags to the compiler or to
<code>hipcc</code>. With <code>PrgEnv-amd</code> loaded the compiler wrappers <code>ftn</code>, <code>cc</code>,
<code>CC</code>, which bypass <code>hipcc</code> and call <code>amdflang</code>, <code>amdclang</code>, or
<code>amdclang++</code> directly, take care of passing suitable compilation
flags, which is why using these wrappers is the recommended approach
for most users, at least initially.</p>
<p><strong>Note</strong>: the <code>rocm</code> module should be loaded whenever you are compiling
for the AMD GPUs, even if you are not using the AMD LLVM compilers
(<code>amdflang</code>, <code>amdclang</code>, <code>amdclang++</code>).</p>
<p>The <code>rocm</code> module also provides access to other AMD tools, such as
HIPIFY (<code>hipify-clang</code> or <code>hipify-perl</code> command), which enables
translation of CUDA to HIP code. See also the <a href="#hipify">section below on
HIPIFY</a>.</p>
<h3 id="gpu-target">GPU target</h3>
<p>Regardless of what approach you use, you will need to tell the
underlying GPU compiler which GPU hardware to target. When using the
compiler wrappers <code>ftn</code>, <code>cc</code>, or <code>CC</code>, as recommended, this can be
done by ensuring the appropriate GPU target module is loaded:</p>
<div class="highlight"><pre><span></span><code>module load craype-accel-amd-gfx90a
</code></pre></div>
<h3 id="cpu-target">CPU target</h3>
<p>The AMD GPU nodes are equipped with AMD EPYC Milan CPUs instead of the
AMD EPYC Rome CPUs present on the regular CPU-only ARCHER2 compute
nodes. Though the difference between these processors is small, when
using the compiler wrappers <code>ftn</code>, <code>cc</code>, or <code>CC</code>, as recommended, we
should load the appropriate CPU target module:</p>
<div class="highlight"><pre><span></span><code>module load craype-x86-milan
</code></pre></div>
<h3 id="compilation-strategies-for-gpu-offloading">Compilation Strategies for GPU Offloading</h3>
<p>Compiler support on ARCHER2 for various programming models that enable
offloading to AMD GPUs can be summarised at a glance in the following
table:</p>
<table>
<thead>
<tr>
<th>PrgEnv</th>
<th>Actual compiler</th>
<th style="text-align: center;">OpenMP Offload</th>
<th style="text-align: center;">HIP</th>
<th style="text-align: center;">OpenACC</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PrgEnv-amd</code></td>
<td><code>amdflang</code></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><code>PrgEnv-amd</code></td>
<td><code>amdclang</code></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><code>PrgEnv-amd</code></td>
<td><code>amdclang++</code></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><code>PrgEnv-cray</code></td>
<td><code>crayftn</code></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">✅</td>
</tr>
<tr>
<td><code>PrgEnv-cray</code></td>
<td><code>craycc</code></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><code>PrgEnv-cray</code></td>
<td><code>crayCC</code></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><code>PrgEnv-gnu</code></td>
<td><code>gfortran</code></td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><code>PrgEnv-gnu</code></td>
<td><code>gcc</code></td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><code>PrgEnv-gnu</code></td>
<td><code>g++</code></td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<p>It is generally recommended to do the following:</p>
<div class="highlight"><pre><span></span><code>module load PrgEnv-xxx
module load rocm
module load craype-accel-amd-gfx90a
module load craype-x86-milan
</code></pre></div>
<p>And then to use the <code>ftn</code>, <code>cc</code> and/or <code>CC</code> wrapper to compile as
appropriate for the programming model in question. Specific guidance
on how to do this for different programming models is provided in the
subsections below.</p>
<p>When deviating from this procedure and using underlying compilers
directly, or when debugging a problematic build using the wrappers, it
may be useful to check what flags the compiler wrappers are passing to
the underlying compiler. This can be done by using the
<code>-craype-verbose</code> option with a wrapper when compiling a
file. Optionally piping the resulting output to the command <code>tr " "
"\n"</code> so that flags are split over lines may be convenient for visual
parsing. For example:</p>
<div class="highlight"><pre><span></span><code>&gt; CC -craype-verbose source.cpp | tr &quot; &quot; &quot;\n&quot;
</code></pre></div>
<h4 id="openmp-offload">OpenMP Offload</h4>
<p>To use the compiler wrappers to compile code that offloads to GPU with
OpenMP directives, first load the desired PrgEnv module and other
necessary modules:</p>
<div class="highlight"><pre><span></span><code>module load PrgEnv-xxx
module load rocm
module load craype-accel-amd-gfx90a
module load craype-x86-milan
</code></pre></div>
<p>Then use the appropriate compiler wrapper and pass the <code>-fopenmp</code>
option to the wrapper when compiling. For example:</p>
<div class="highlight"><pre><span></span><code>ftn -fopenmp source.f90
</code></pre></div>
<p>This should work under <code>PrgEnv-amd</code> and <code>PrgEnv-cray</code>, but not under
PrgEnv-gnu as GCC 11.2.0 is the most recent version of GCC available
on ARCHER2 and OpenMP offload to AMD MI200 series GPUs is only
supported by GCC 13 and later.</p>
<p>You may find that offload directives introduced in more recent
versions of the OpenMP standard, e.g. versions later than OpenMP 4.5,
fail to compile with some compilers. Under <code>PrgEnv-cray</code> an explicit
description of supported OpenMP features can be viewed using the
command <code>man intro_openmp</code>.</p>
<h4 id="hip">HIP</h4>
<p>To compile C or C++ code that uses HIP written specifically to offload
to AMD GPUs, first load the desired PrgEnv module (either <code>PrgEnv-amd</code>
or <code>PrgEnv-cray</code>) and other necessary modules:</p>
<div class="highlight"><pre><span></span><code>module load PrgEnv-xxx
module load rocm
module load craype-accel-amd-gfx90a
module load craype-x86-milan
</code></pre></div>
<p>Then compile using the <code>CC</code> compiler wrapper as follows:</p>
<div class="highlight"><pre><span></span><code>CC -x hip -std=c++11 -D__HIP_ROCclr__ --rocm-path=${ROCM_PATH} source.cpp
</code></pre></div>
<p>Alternatively, you may use <code>hipcc</code> to drive the AMD LLVM compiler
<code>amdclang(++)</code> to compile HIP code. In that case you will need to take
care to explicitly pass all required offload flags to <code>hipcc</code>, such
as:</p>
<div class="highlight"><pre><span></span><code>-D__HIP_PLATFORM_AMD__ --offload-arch=gfx90a
</code></pre></div>
<p>To see what <code>hipcc</code> passes to the compiler, you can pass the
<code>--verbose</code> option. If you are compiling MPI-parallel HIP code with
<code>hipcc</code>, please see additional guidance under <a href="#hipcc-and-mpi">HIPCC and
MPI</a>.</p>
<p><code>hipcc</code> can compile both HIP code for device (GPU) execution and
non-HIP code for host (CPU) execution and will default to using the
AMD LLVM compiler <code>amdclang(++)</code> to do so. If your software consists
of separate compilation units - typically separate files - containing
HIP code non-HIP code, it is possible to use a different compiler than
<code>hipcc</code> to compile the non-HIP code. To do this:</p>
<ul>
<li>Compile the HIP code as above using <code>hipcc</code></li>
<li>Compile the non-HIP code using the compiler wrapper <code>CC</code> and a <em>different</em> PrgEnv than <code>PrgEnv-amd</code> loaded</li>
<li>Link the resulting code objects (<code>.o</code> files) together using the compiler wrapper</li>
</ul>
<h4 id="openacc">OpenACC</h4>
<p>Offloading using OpenACC directives on ARCHER2 is only supported by
the Cray Fortran compiler. You should therefore load the following:</p>
<div class="highlight"><pre><span></span><code>module load PrgEnv-cray
module load rocm
module load craype-accel-amd-gfx90a
module load craype-x86-milan
</code></pre></div>
<p>OpenACC Fortran code can then be compiled using the <code>-hacc</code> flag, as follows:</p>
<div class="highlight"><pre><span></span><code>ftn -hacc source.f90
</code></pre></div>
<p>Details on what OpenACC standard and features are supported under
<code>PrgEnv-cray</code> can be viewed using the command <code>man intro_openacc</code>.</p>
<h3 id="advanced-compilation">Advanced Compilation</h3>
<h4 id="openmp-offload-openmp-cpu-threading">OpenMP Offload + OpenMP CPU threading</h4>
<p>Code may use OpenMP for multithreaded execution on the host CPU in
combination with target directives to offload work to GPU. Both uses
of OpenMP can coexist in a single compilation unit, which should be
compiled using the relevant compiler wrapper and the <code>-fopenmp</code> flag.</p>
<h4 id="hip-openmp-offload">HIP + OpenMP Offload</h4>
<p>Using both OpenMP and HIP to offload to GPU is possible, but only if
the two programming models are not mixed in the same compilation unit.
Two or more separate compilation units - typically separate source
files - should be compiled as recommended individually for HIP and
OpenMP offload code in the respective sections above. The resulting
code objects (<code>.o</code> files) should then be linked together using a
compiler wrapper <em>with</em> the <code>-fopenmp</code> flag, but <em>without</em> the <code>-x
hip</code> flag.</p>
<h4 id="hip-openmp-cpu-threading">HIP + OpenMP CPU threading</h4>
<p>Code in a single compilation unit, such as a single source file, can
use HIP to offload to GPU as well as OpenMP for multithreaded
execution on the host CPU. Compilation should be done using the
relevant compiler wrapper and the flags <code>-fopenmp</code> and <code>–x hip</code> - in
that order - as well as the flags for HIP compilation specified above:</p>
<div class="highlight"><pre><span></span><code>CC -fopenmp -x hip -std=c++11 -D__HIP_ROCclr__ --rocm-path=${ROCM_PATH} source.cpp
</code></pre></div>
<h4 id="hipcc-and-mpi">HIPCC and MPI</h4>
<p>When compiling an MPI-parallel code with <code>hipcc</code> instead of a compiler
wrapper, the path to the Cray MPI library include directory should be
passed explicitly, or set as part of the <code>CXXFLAGS</code> environment
variable, as:</p>
<div class="highlight"><pre><span></span><code>-I${CRAY_MPICH_DIR}/include
</code></pre></div>
<p>MPI library directories should also be passed to <code>hipcc</code>, or set as
part of the <code>LDFLAGS</code> environment variable prior to compiling, as:</p>
<div class="highlight"><pre><span></span><code>-L${CRAY_MPICH_DIR}/lib ${PE_MPICH_GTL_DIR_amd_gfx90a}
</code></pre></div>
<p>Finally the MPI library should be linked explicitly, or set as part of
the <code>LIBS</code> environment variable prior to linking, as:</p>
<div class="highlight"><pre><span></span><code>-lmpi ${PE_MPICH_GTL_LIBS_amd_gfx90a}
</code></pre></div>
<h3 id="cmake">Cmake</h3>
<p>Documentation about integrating rocm with cmake can be found <a href="https://rocm.docs.amd.com/en/docs-5.2.3/understand/cmake_packages.html">here</a>.</p>
<h2 id="gpu-aware-mpi">GPU-aware MPI</h2>
<p>Need to set an environment variable to enable GPU support in <code>cray-mpich</code>:</p>
<p><code>export MPICH_GPU_SUPPORT_ENABLED=1</code></p>
<p>No additional or alternative MPI modules need to be loaded instead of the default <code>cray-mpich</code> module.</p>
<p>This supports GPU-GPU transfers:</p>
<ul>
<li>Inter-node via GPU-NIC RDMA</li>
<li>Intra-node via GPU Peer2Peer IPC</li>
</ul>
<p>Be aware that on these nodes there are only two PCIe network cards in each node and they may not be in the same memory region to a given GPU.
Therefore NUMA effects are to be expected in multi-node communication. More detail on this is provided below.</p>
<h3 id="libraries">Libraries</h3>
<p>In order to access the GPU-accelerated version of Cray's LibSci maths libraries, a new module has been provided:</p>
<p><code>cray-libsci_acc</code></p>
<p>With this module loaded, documentation can be viewed using the command <code>man intro_libsci_acc</code>.</p>
<p>Additionally a number of libraries are provided as part of the <code>rocm</code> module.</p>
<ul>
<li><a href="https://rocm.docs.amd.com/en/docs-5.2.3/reference/gpu_libraries/math.html">Math Libraries</a></li>
<li><a href="https://rocm.docs.amd.com/projects/MIOpen/en/docs-5.2.3/index.html">AI Libraries</a></li>
<li><a href="https://rocm.docs.amd.com/en/docs-5.2.3/reference/gpu_libraries/c%2B%2B_primitives.html">C++ primitive Libraries</a></li>
</ul>
<h2 id="python-environment">Python Environment</h2>
<p>The <code>cray-python</code> module can be used as normal for the GPU partition with <code>mpi4py</code> package that is installed by default. <code>mpi4py</code> uses <code>cray-mpich</code> under the hood and in the same way as the CPU compute nodes.</p>
<p>However unless specifically compiled for GPU-GPU communication certain python packages/frameworks that try to take advantage of the fast links between GPUs by calling MPI on GPU pointers may have issues. To set the environment correctly for a given python program the following snippet can be added to load the required <code>libmpi_gtl_hsa</code> library:</p>
<div class="highlight"><pre><span></span><code>from os import environ
if environ.get(&quot;MPICH_GPU_SUPPORT_ENABLED&quot;, False):
    from ctypes import CDLL, RTLD_GLOBAL
    CDLL(f&quot;{environ.get(&#39;CRAY_MPICH_ROOTDIR&#39;)}/gtl/lib/libmpi_gtl_hsa.so&quot;, mode=RTLD_GLOBAL)

from mpi4py import MPI
</code></pre></div>
<h2 id="supported-software">Supported software</h2>
<p>The ARCHER2 GPU development platform is intended for code development, testing and experimentation and will not have supported centrally installed versions of codes as is the case for the standard ARCHER2 CPU compute nodes. However some builds are being made available to users by members of CSE to under a best effort approach to support the community.</p>
<p>Codes that have modules targeting GPUs are:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Will be filled out as applications are compiled and made available.</p>
</div>
<h2 id="running-jobs-on-the-gpu-nodes">Running jobs on the GPU nodes</h2>
<p>To run a GPU job, you must specify a GPU partition and a
quality of service (QoS) as well as the number of GPUs required. You
specify the number of GPU cards you want per node using the <code>--gpus=N</code>
option, where <code>N</code> is typically 1, 2 or 4.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As there are 4 GPUs per node, each GPU is associated with 1/4 of the
resources of the node, i.e., 8 of 32 physical cores and roughly 128 GiB
of the total 512 GiB host memory.</p>
</div>
<p>Allocations of host resources are made pro-rata. For example, if 2 GPUs
are requested, <code>sbatch</code> will allocate 16 cores and around 256 GiB of host
memory (in addition to 2 GPUs). Any attempt to use more than the
allocated resources will result in an error.</p>
<p>This automatic allocation by Slurm for GPU jobs means that the
submission script should not specify options such as <code>--ntasks</code> and
<code>--cpus-per-task</code>. Such a job submission will be rejected. See below for
some examples of how to use host resources and how to launch MPI
applications.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In order to run jobs on the GPU nodes your ARCHER2 budget must have positive CU
hours associated with it. However, your budget will not be charged for any GPU
jobs you run.</p>
</div>
<h3 id="slurm-partitions">Slurm Partitions</h3>
<p>Your job script must specify a partition. The following table has a list
of relevant GPU partition(s) on ARCHER2.</p>
<table>
<thead>
<tr>
<th>Partition</th>
<th>Description</th>
<th>Max nodes available</th>
</tr>
</thead>
<tbody>
<tr>
<td>gpu</td>
<td>GPU nodes with AMD EPYC 32-core processor, 512 GB memory, 4&times;AMD Instinct MI210 GPU</td>
<td>4</td>
</tr>
</tbody>
</table>
<h3 id="slurm-quality-of-service-qos">Slurm Quality of Service (QoS)</h3>
<p>Your job script must specify a QoS relevant for the GPU nodes. Available
QoS specifications are as follows.</p>
<table>
<thead>
<tr>
<th>QoS</th>
<th>Max Nodes Per Job</th>
<th>Max Walltime</th>
<th>Jobs Queued</th>
<th>Jobs Running</th>
<th>Partition(s)</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>gpu-shd</td>
<td>1</td>
<td>12 hr</td>
<td>2</td>
<td>1</td>
<td>gpu</td>
<td>Nodes potentially shared with other users</td>
</tr>
<tr>
<td>gpu-exc</td>
<td>2</td>
<td>12 hr</td>
<td>2</td>
<td>1</td>
<td>gpu</td>
<td>Exclusive node access</td>
</tr>
</tbody>
</table>
<h3 id="example-job-submission-scripts">Example job submission scripts</h3>
<p>Here are a series of example jobs for various patterns of running on the ARCHER2 GPU nodes
They cover the following scenarios:</p>
<ul>
<li>Single GPU</li>
<li>Multiple GPU on a single node - shared node access (max. 2 GPU)</li>
<li>Multiple GPU on a single node - exclusive node access (max. 4 GPU)</li>
<li>Multiple GPU on multiple nodes</li>
</ul>
<h3 id="single-gpu">Single GPU</h3>
<p>This example requests a single GPU on a potentially shared node and launch using a single CPU
process with offload to a single GPU.</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash

#SBATCH --job-name=single-GPU
#SBATCH --gpus=1
#SBATCH --time=00:20:00

# Replace [budget code] below with your project code (e.g. t01)
#SBATCH --account=[budget code]
#SBATCH --partition=gpu
#SBATCH --qos=gpu-shd

# Check assigned GPU
srun --ntasks=1 rocm-smi

srun --ntasks=1 --cpus-per-task=1 ./my_gpu_program.x
</code></pre></div>
<h3 id="multiple-gpu-on-a-single-node-shared-node-access-max-2-gpu">Multiple GPU on a single node - shared node access (max. 2 GPU)</h3>
<p>This example requests two GPUs on a potentially shared node and launch using two
MPI processes (one per GPU) with one MPI process per CPU NUMA region.</p>
<p>We use the <code>--cpus-per-task=8</code> option to <code>srun</code> to set the stride between the two
MPI processes to 8 physical cores. This places the MPI processes on separate NUMA
regions to ensure they are associated with the correct GPU that is closest to them
on the compute node architecture.</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash

#SBATCH --job-name=multi-GPU
#SBATCH --gpus=2
#SBATCH --time=00:20:00

# Replace [budget code] below with your project code (e.g. t01)
#SBATCH --account=[budget code]
#SBATCH --partition=gpu
#SBATCH --qos=gpu-shd

# Enable GPU-aware MPI
export MPICH_GPU_SUPPORT_ENABLED=1

# Check assigned GPU
srun --ntasks=1 rocm-smi

# Check process/thread pinning
module load xthi
srun --ntasks=2 --cpus-per-task=8 \
     --hint=nomultithread --distribution=block:block \
     xthi

srun --ntasks=2 --cpus-per-task=8 \
     --hint=nomultithread --distribution=block:block \
     ./my_gpu_program.x
</code></pre></div>
<h3 id="multiple-gpu-on-a-single-node-exclusive-node-access-max-4-gpu">Multiple GPU on a single node - exclusive node access (max. 4 GPU)</h3>
<p>This example requests four GPUs on a single node and launches the program using four
MPI processes (one per GPU) with one MPI process per CPU NUMA region.</p>
<p>We use the <code>--cpus-per-task=8</code> option to <code>srun</code> to set the stride between the
MPI processes to 8 physical cores. This places the MPI processes on separate NUMA
regions to ensure they are associated with the correct GPU that is closest to them
on the compute node architecture.</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash

#SBATCH --job-name=multi-GPU
#SBATCH --gpus=4
#SBATCH --nodes=1
#SBATCH --exclusive
#SBATCH --time=00:20:00

# Replace [budget code] below with your project code (e.g. t01)
#SBATCH --account=[budget code]
#SBATCH --partition=gpu
#SBATCH --qos=gpu-exc

# Enable GPU-aware MPI
export MPICH_GPU_SUPPORT_ENABLED=1

# Check assigned GPU
srun --ntasks=1 rocm-smi

# Check process/thread pinning
module load xthi
srun --ntasks=4 --cpus-per-task=8 \
     --hint=nomultithread --distribution=block:block \
     xthi

srun --ntasks=4 --cpus-per-task=8 \
     --hint=nomultithread --distribution=block:block \
     ./my_gpu_program.x
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When you use the <code>--qos=gpu-exc</code> QoS you must also add the <code>--exclusive</code> flag
and then specify the number of nodes you want with <code>--nodes=1</code>.</p>
</div>
<h3 id="multiple-gpu-on-multiple-nodes-exclusive-node-access-max-8-gpu">Multiple GPU on multiple nodes - exclusive node access (max. 8 GPU)</h3>
<p>This example requests eight GPUs across two nodes and launches the program using eight
MPI processes (one per GPU) with one MPI process per CPU NUMA region.</p>
<p>We use the <code>--cpus-per-task=8</code> option to <code>srun</code> to set the stride between the
MPI processes to 8 physical cores. This places the MPI processes on separate NUMA
regions to ensure they are associated with the correct GPU that is closest to them
on the compute node architecture.</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash

#SBATCH --job-name=multi-GPU
#SBATCH --gpus=4
#SBATCH --nodes=2
#SBATCH --exclusive
#SBATCH --time=00:20:00

# Replace [budget code] below with your project code (e.g. t01)
#SBATCH --account=[budget code]
#SBATCH --partition=gpu
#SBATCH --qos=gpu-exc

# Enable GPU-aware MPI
export MPICH_GPU_SUPPORT_ENABLED=1

# Check assigned GPU
nodelist=$(scontrol show hostname $SLURM_JOB_NODELIST)
for nodeid in $nodelist
do
   echo $nodeid
   srun --ntasks=1 --nodelist=$nodeid rocm-smi
done

# Check process/thread pinning
module load xthi
srun --ntasks=8 --cpus-per-task=8 \
     --hint=nomultithread --distribution=block:block \
     xthi

srun --ntasks=8 --cpus-per-task=8 \
     --hint=nomultithread --distribution=block:block \
     ./my_gpu_program.x
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When you use the <code>--qos=gpu-exc</code> QoS you must also add the <code>--exclusive</code> flag
and then specify the number of nodes you want with <code>--nodes=1</code>.</p>
</div>
<h3 id="interactive-jobs">Interactive jobs</h3>
<h4 id="using-salloc">Using <code>salloc</code></h4>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This method does not give you an interactive shell on a GPU compute node. If you
want an interactive shell on the GPU compute nodes, see the <code>srun</code> method described
below.</p>
</div>
<p>If you wish to have a terminal to perform interactive testing, you can
use the <code>salloc</code> command to reserve the resources so you can use <code>srun</code> commands interactively.
For example, to request 1 GPU for 20 minutes you would use (remember to replace <code>t01</code> with your
budget code):</p>
<div class="highlight"><pre><span></span><code>auser@ln04:/work/t01/t01/auser&gt; salloc --gpus=1 --time=00:20:00 --partition=gpu --qos=gpu-shd --account=t01
salloc: Pending job allocation 5335731
salloc: job 5335731 queued and waiting for resources
salloc: job 5335731 has been allocated resources
salloc: Granted job allocation 5335731
salloc: Waiting for resource configuration
salloc: Nodes nid200001 are ready for job

auser@ln04:/work/t01/t01/auser&gt; export OMP_NUM_THREADS=1
auser@ln04:/work/t01/t01/auser&gt; srun rocm-smi


======================= ROCm System Management Interface =======================
================================= Concise Info =================================
GPU  Temp   AvgPwr  SCLK    MCLK     Fan  Perf  PwrCap  VRAM%  GPU%
0    31.0c  43.0W   800Mhz  1600Mhz  0%   auto  300.0W    0%   0%
================================================================================
============================= End of ROCm SMI Log ==============================


srun: error: nid200001: tasks 0: Exited with exit code 2
srun: launch/slurm: _step_signal: Terminating StepId=5335731.0

auser@ln04:/work/t01/t01/auser&gt; module load xthi
auser@ln04:/work/t01/t01/auser&gt; srun --ntasks=1 --cpus-per-task=8 --hint=nomultithread xthi
Node summary for    1 nodes:
Node    0, hostname nid200001, mpi   1, omp   1, executable xthi
MPI summary: 1 ranks
Node    0, rank    0, thread   0, (affinity =  0-7)
</code></pre></div>
<h4 id="using-srun">Using <code>srun</code></h4>
<p>If you want an interactive terminal on a GPU node then you can use the <code>srun</code> command to achieve this.
For example, to request 1 GPU for 20 minutes with an interactive terminal on a GPU compute node you
would use (remember to replace <code>t01</code> with your budget code):</p>
<div class="highlight"><pre><span></span><code>auser@ln04:/work/t01/t01/auser&gt; srun --gpus=1 --time=00:20:00 --partition=gpu --qos=gpu-shd --account=z19 --pty /bin/bash
srun: job 5335771 queued and waiting for resources
srun: job 5335771 has been allocated resources
auser@nid200001:/work/t01/t01/auser&gt;
</code></pre></div>
<p>Note that the command prompt has changed to indicate we are now on a GPU compute node. You can now directly run commands
that interact with the GPU devices, e.g.:</p>
<div class="highlight"><pre><span></span><code>auser@nid200001:/work/t01/t01/auser&gt; rocm-smi

======================= ROCm System Management Interface =======================
================================= Concise Info =================================
GPU  Temp   AvgPwr  SCLK    MCLK     Fan  Perf  PwrCap  VRAM%  GPU%
0    29.0c  43.0W   800Mhz  1600Mhz  0%   auto  300.0W    0%   0%
================================================================================
============================= End of ROCm SMI Log ==============================
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Launching parallel jobs on GPU nodes from an interactive shell on a GPU node is not straightforward so you should either
use job submission scripts or the <code>salloc</code> method of interactive use described above.</p>
</div>
<h3 id="environment-variables">Environment variables</h3>
<h5 id="rocr_visible_devices">ROCR_VISIBLE_DEVICES</h5>
<p>A list of device indices or UUIDs that will be exposed to applications</p>
<p>Runtime : ROCm Platform Runtime. Applies to all applications using the user mode ROCm software stack.</p>
<p><code>export ROCR_VISIBLE_DEVICES="0,GPU-DEADBEEFDEADBEEF"</code></p>
<h4 id="hip-environment-variables">HIP Environment variables</h4>
<p><a href="https://rocm.docs.amd.com/projects/HIP/en/docs-5.2.3/how_to_guides/debugging.html#summary-of-environment-variables-in-hip">https://rocm.docs.amd.com/projects/HIP/en/docs-5.2.3/how_to_guides/debugging.html#summary-of-environment-variables-in-hip</a></p>
<h5 id="amd_log_level">AMD_LOG_LEVEL</h5>
<p>Enable HIP log on different Level.</p>
<p><code>export AMD_LOG_LEVEL=1</code></p>
<ul>
<li>0: Disable log.</li>
<li>1: Enable log on error level.</li>
<li>2: Enable log on warning and below levels.</li>
<li>0x3: Enable log on information and below levels.</li>
<li>0x4: Decode and display AQL packets.</li>
</ul>
<h5 id="amd_log_mask">AMD_LOG_MASK</h5>
<p>Enable HIP log on different Levels.</p>
<p><code>export AMD_LOG_MASK=0x1</code></p>
<div class="highlight"><pre><span></span><code>Default: 0x7FFFFFFF

0x1: Log API calls.
0x02: Kernel and Copy Commands and Barriers.
0x4: Synchronization and waiting for commands to finish.
0x8: Enable log on information and below levels.
0x20: Queue commands and queue contents.
0x40: Signal creation, allocation, pool.
0x80: Locks and thread-safety code.
0x100: Copy debug.
0x200: Detailed copy debug.
0x400: Resource allocation, performance-impacting events.
0x800: Initialization and shutdown.
0x1000: Misc debug, not yet classified.
0x2000: Show raw bytes of AQL packet.
0x4000: Show code creation debug.
0x8000: More detailed command info, including barrier commands.
0x10000: Log message location.
0xFFFFFFFF: Log always even mask flag is zero.
</code></pre></div>
<h5 id="hip_visible_devices">HIP_VISIBLE_DEVICES:</h5>
<p>For system with multiple devices, it’s possible to make only certain device(s) visible to HIP via setting environment variable, HIP_VISIBLE_DEVICES(or CUDA_VISIBLE_DEVICES on Nvidia platform), only devices whose index is present in the sequence are visible to HIP.</p>
<p>Runtime : HIP Runtime. Applies only to applications using HIP on the AMD platform.</p>
<p><code>export HIP_VISIBLE_DEVICES=0,1</code></p>
<h5 id="amd_serialize_kernel">AMD_SERIALIZE_KERNEL</h5>
<p>To serialize the kernel enqueuing set the following variable,</p>
<p><code>export AMD_SERIALIZE_KERNEL=1</code></p>
<ul>
<li>0: not serialized</li>
<li>1: wait for completion before enqueue</li>
<li>2: wait for completion after enqueue</li>
<li>3: Both 1 and 2</li>
</ul>
<h5 id="amd_serialize_copy">AMD_SERIALIZE_COPY</h5>
<p>To serialize the copies set,</p>
<p><code>export AMD_SERIALIZE_COPY=1</code></p>
<ul>
<li>0: not serialized</li>
<li>1: wait for completion before enqueue</li>
<li>2: wait for completion after enqueue</li>
<li>3: Both 1 and 2</li>
</ul>
<h5 id="hip_host_coherent">HIP_HOST_COHERENT</h5>
<p>Sets whether memory in coherent in hipHostMalloc.</p>
<p><code>export HIP_HOST_COHERENT=1</code></p>
<p>If the value is <code>1</code>, memory is coherent with host; if <code>0</code>, memory is not coherent between host and GPU.</p>
<h4 id="openmp-environment-variables">OpenMP Environment variables</h4>
<p><a href="https://rocm.docs.amd.com/en/docs-5.2.3/reference/openmp/openmp.html#environment-variables">https://rocm.docs.amd.com/en/docs-5.2.3/reference/openmp/openmp.html#environment-variables</a></p>
<h5 id="omp_default_device">OMP_DEFAULT_DEVICE</h5>
<p>Default device used for OpenMP target offloading.</p>
<p>Runtime : OpenMP Runtime. Applies only to applications using OpenMP offloading.</p>
<p><code>export OMP_DEFAULT_DEVICE="2"</code></p>
<p>sets the default device to the 3rd device on the node.</p>
<h5 id="omp_num_teams">OMP_NUM_TEAMS</h5>
<p>Users can choose the number of teams used for kernel launch by setting,</p>
<p><code>export OMP_NUM_THREADS</code></p>
<p>this can be tuned to optimise performance.</p>
<h5 id="gpu_max_hw_queues">GPU_MAX_HW_QUEUES</h5>
<p>To set the number of HSA queues used in the OpenMP runtime set,</p>
<p><code>export GPU_MAX_HW_QUEUES</code></p>
<h4 id="mpi-environment-variables">MPI Environment variables</h4>
<h5 id="mpich_gpu_support_enabled">MPICH_GPU_SUPPORT_ENABLED</h5>
<p>Activates GPU aware MPI in Cray MPICH:</p>
<p><code>export MPICH_GPU_SUPPORT_ENABLED=1</code></p>
<p>If not set MPI calls that attempt to send messages from buffers that are on  GPU-attached memory will crash/hang.</p>
<h5 id="hsa_enable_sdma">HSA_ENABLE_SDMA</h5>
<p><code>export HSA_ENABLE_SDMA=0</code></p>
<p>Forces host-to-device and device-to-host copies to use compute shader blit kernels rather than the dedicated DMA copy engines.</p>
<p>Impact will be reduced bandwidth but this is recommended when isolating issues with hardware copy engines.</p>
<h5 id="mpich_ofi_nic_policy">MPICH_OFI_NIC_POLICY</h5>
<p>For GPU-enabled parallel applications that involve MPI operations that access application arrays that are resident on GPU-attached memory regions users can set,</p>
<p><code>export MPICH_OFI_NIC_POLICY=GPU</code></p>
<p>In this case, for each MPI process, Cray MPI aims to select a NIC device that is closest to the GPU device being used.</p>
<h5 id="mpich_ofi_nic_verbose">MPICH_OFI_NIC_VERBOSE</h5>
<p>To display information pertaining to NIC selection set,</p>
<p><code>export MPICH_OFI_NIC_VERBOSE=2</code></p>
<h2 id="debugging">Debugging</h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Work in progress</p>
</div>
<p>Documentation for rocgdb can be found in the following locations:</p>
<p>https://rocm.docs.amd.com/projects/ROCgdb/en/docs-5.2.3/index.html</p>
<p>https://docs.amd.com/projects/HIP/en/docs-5.2.3/how_to_guides/debugging.html#using-rocgdb</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The license for Linaro-forge help on ARCHER2 does not include support for GPU debugging.</p>
</div>
<h2 id="profiling">Profiling</h2>
<p>An initial profiling capability is provided via <code>rocprof</code> which is part of the <code>rocm</code> module.</p>
<p>For example in an interactive session where resources have already been allocated you can call,</p>
<div class="highlight"><pre><span></span><code>srun -n 2 --exclusive --nodes=1 --time=00:20:00 --partition=gpu --qos=gpu-exc --gpus=2 rocprof --stats ./myprog_exe
</code></pre></div>
<p>to profile your applicaition. More detail on the use of rocprof can be found <a href="https://github.com/ROCm/rocprofiler/tree/rocm-5.2.3">here</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The license for Linaro-forge help on ARCHER2 does not include support for GPU profiling.</p>
</div>
<h2 id="performance-tuning">Performance tuning</h2>
<p>AMD provides some documentation on performance tuning <a href="https://rocm.docs.amd.com/en/docs-5.2.3/how_to/tuning_guides/mi200.html">here</a> not all options will be available to users, so be aware that mileage may vary.</p>
<h3 id="hardware-details">Hardware details</h3>
<p>The specifications of the GPU hardware can be found <a href="https://www.amd.com/en/products/accelerators/instinct/mi200/mi210.html">here</a>.</p>
<p>Additionally you can use the command,</p>
<p><code>rocminfo</code></p>
<p>in job on a GPU node to print information about the GPUs and CPU on the node. This command is provided as part of the <code>rocm</code> module.</p>
<h3 id="node-topology">Node Topology</h3>
<p>Using <code>rocm-smi --showtopo</code> we can learn about the connections between the GPUs in a node and the how memory regions between the GPU and CPU are connected.</p>
<div class="highlight"><pre><span></span><code>======================= ROCm System Management Interface =======================
=========================== Weight between two GPUs ============================
       GPU0         GPU1         GPU2         GPU3
GPU0   0            15           15           15
GPU1   15           0            15           15
GPU2   15           15           0            15
GPU3   15           15           15           0

============================ Hops between two GPUs =============================
       GPU0         GPU1         GPU2         GPU3
GPU0   0            1            1            1
GPU1   1            0            1            1
GPU2   1            1            0            1
GPU3   1            1            1            0

========================== Link Type between two GPUs ==========================
       GPU0         GPU1         GPU2         GPU3
GPU0   0            XGMI         XGMI         XGMI
GPU1   XGMI         0            XGMI         XGMI
GPU2   XGMI         XGMI         0            XGMI
GPU3   XGMI         XGMI         XGMI         0

================================== Numa Nodes ==================================
GPU 0          : (Topology) Numa Node: 0
GPU 0          : (Topology) Numa Affinity: 0
GPU 1          : (Topology) Numa Node: 1
GPU 1          : (Topology) Numa Affinity: 1
GPU 2          : (Topology) Numa Node: 2
GPU 2          : (Topology) Numa Affinity: 2
GPU 3          : (Topology) Numa Node: 3
GPU 3          : (Topology) Numa Affinity: 3
============================= End of ROCm SMI Log ==============================
</code></pre></div>
<p>To quote the <a href="https://rocm.docs.amd.com/en/docs-5.5.1/how_to/tuning_guides/mi200.html#hardware-verification-with-rocm">rocm documentation</a>:</p>
<div class="highlight"><pre><span></span><code>- The first block of the output shows the distance between the GPUs similar to what the numactl command outputs for the NUMA domains of a system. The weight is a qualitative measure for the “distance” data must travel to reach one GPU from another one. While the values do not carry a special (physical) meaning, the higher the value the more hops are needed to reach the destination from the source GPU.

- The second block has a matrix named “Hops between two GPUs”, where 1 means the two GPUs are directly connected with XGMI, 2 means both GPUs are linked to the same CPU socket and GPU communications will go through the CPU, and 3 means both GPUs are linked to different CPU sockets so communications will go through both CPU sockets. This number is one for all GPUs in this case since they are all connected to each other through the Infinity Fabric links.

- The third block outputs the link types between the GPUs. This can either be “XGMI” for AMD Infinity Fabric links or “PCIE” for PCIe Gen4 links.

- The fourth block reveals the localization of a GPU with respect to the NUMA organization of the shared memory of the AMD EPYC processors.
</code></pre></div>
<h3 id="rocm-bandwidth-test">rocm-bandwidth-test</h3>
<p>As part of the <code>rocm</code> module the  <code>rocm-bandwidth-test</code> is provided that can be used to measure the performance of communications between the hardware in a node.</p>
<p>In addition to <code>rocm-smi</code> this is a bandwidth test that can be useful in understanding the composition and performance limitations in a GPU node. Here is an example output from a GPU nodes on ARCHER2.</p>
<div class="highlight"><pre><span></span><code>Device: 0,  AMD EPYC 7543P 32-Core Processor
Device: 1,  AMD EPYC 7543P 32-Core Processor
Device: 2,  AMD EPYC 7543P 32-Core Processor
Device: 3,  AMD EPYC 7543P 32-Core Processor
Device: 4,  ,  GPU-ab43b63dec8adaf3,  c9:0.0
Device: 5,  ,  GPU-0b953cf8e6d4184a,  87:0.0
Device: 6,  ,  GPU-b0266df54d0dd2e1,  49:0.0
Device: 7,  ,  GPU-790a09bfbf673859,  09:0.0

Inter-Device Access

D/D       0         1         2         3         4         5         6         7

0         1         1         1         1         1         1         1         1

1         1         1         1         1         1         1         1         1

2         1         1         1         1         1         1         1         1

3         1         1         1         1         1         1         1         1

4         1         1         1         1         1         1         1         1

5         1         1         1         1         1         1         1         1

6         1         1         1         1         1         1         1         1

7         1         1         1         1         1         1         1         1


Inter-Device Numa Distance

D/D       0         1         2         3         4         5         6         7

0         0         12        12        12        20        32        32        32

1         12        0         12        12        32        20        32        32

2         12        12        0         12        32        32        20        32

3         12        12        12        0         32        32        32        20

4         20        32        32        32        0         15        15        15

5         32        20        32        32        15        0         15        15

6         32        32        20        32        15        15        0         15

7         32        32        32        20        15        15        15        0


Unidirectional copy peak bandwidth GB/s

D/D       0           1           2           3           4           5           6           7

0         N/A         N/A         N/A         N/A         26.977      26.977      26.977      26.977

1         N/A         N/A         N/A         N/A         26.977      26.975      26.975      26.975

2         N/A         N/A         N/A         N/A         26.977      26.977      26.975      26.975

3         N/A         N/A         N/A         N/A         26.975      26.977      26.975      26.977

4         28.169      28.171      28.169      28.169      1033.080    42.239      42.112      42.264

5         28.169      28.169      28.169      28.169      42.243      1033.088    42.294      42.286

6         28.169      28.171      28.167      28.169      42.158      42.281      1043.367    42.277

7         28.171      28.169      28.169      28.169      42.226      42.264      42.264      1051.212


Bidirectional copy peak bandwidth GB/s

D/D       0           1           2           3           4           5           6           7

0         N/A         N/A         N/A         N/A         40.480      42.528      42.059      42.173

1         N/A         N/A         N/A         N/A         41.604      41.826      41.903      41.417

2         N/A         N/A         N/A         N/A         41.008      41.499      41.258      41.338

3         N/A         N/A         N/A         N/A         40.968      41.273      40.982      41.450

4         40.480      41.604      41.008      40.968      N/A         80.946      80.631      80.888

5         42.528      41.826      41.499      41.273      80.946      N/A         80.944      80.940

6         42.059      41.903      41.258      40.982      80.631      80.944      N/A         80.896

7         42.173      41.417      41.338      41.450      80.888      80.940      80.896      N/A
</code></pre></div>
<h2 id="tools">Tools</h2>
<h3 id="rocm-smi">rocm-smi</h3>
<p>If you load the rocm module on the system you will have access to the <code>rocm-smi</code> utility. This utility allows users to report information about the GPUs on node and can be very useful in better understanding the set up of the hardware you are working with and monitoring GPU metrics during job execution.</p>
<p>Here are some useful commands to get you started:</p>
<p><code>rocm-smi --alldevices</code> device status</p>
<p><div class="highlight"><pre><span></span><code>======================= ROCm System Management Interface =======================
================================= Concise Info =================================
GPU  Temp   AvgPwr  SCLK    MCLK     Fan  Perf  PwrCap  VRAM%  GPU%
0    28.0c  43.0W   800Mhz  1600Mhz  0%   auto  300.0W    0%   0%
1    30.0c  43.0W   800Mhz  1600Mhz  0%   auto  300.0W    0%   0%
2    33.0c  43.0W   800Mhz  1600Mhz  0%   auto  300.0W    0%   0%
3    33.0c  41.0W   800Mhz  1600Mhz  0%   auto  300.0W    0%   0%
================================================================================
============================= End of ROCm SMI Log ==============================
</code></pre></div>
This shows you the current state of the hardware while an application is running.</p>
<p>Focusing on the GPU activity can be useful to understand when your code is active on the GPUs:</p>
<p><code>rocm-smi --showuse</code> GPU activity</p>
<div class="highlight"><pre><span></span><code>======================= ROCm System Management Interface =======================
============================== % time GPU is busy ==============================
GPU[0]          : GPU use (%): 0
GPU[0]          : GFX Activity: 705759841
GPU[1]          : GPU use (%): 0
GPU[1]          : GFX Activity: 664257322
GPU[2]          : GPU use (%): 0
GPU[2]          : GFX Activity: 660987914
GPU[3]          : GPU use (%): 0
GPU[3]          : GFX Activity: 665049119
================================================================================
============================= End of ROCm SMI Log ==============================
</code></pre></div>
<p>Additionally you can focus on the memory use of the GPUs:</p>
<p><code>rocm-smi --showmemuse</code> GPU memory currently consumed</p>
<div class="highlight"><pre><span></span><code>======================= ROCm System Management Interface =======================
============================== Current Memory Use ==============================
GPU[0]          : GPU memory use (%): 0
GPU[0]          : Memory Activity: 323631375
GPU[1]          : GPU memory use (%): 0
GPU[1]          : Memory Activity: 319196585
GPU[2]          : GPU memory use (%): 0
GPU[2]          : Memory Activity: 318641690
GPU[3]          : GPU memory use (%): 0
GPU[3]          : Memory Activity: 319854295
================================================================================
============================= End of ROCm SMI Log ==============================
</code></pre></div>
<p>More commands can be found by running,</p>
<p><code>rocm-smi --help</code></p>
<p>will run on the login nodes to get more information about probing the GPUs.</p>
<p>More detail can be found at <a href="https://github.com/ROCm/rocm_smi_lib/tree/rocm-5.2.3/python_smi_tools">here</a>.</p>
<h3 id="hipify">HIPIFY</h3>
<p>HIPIFY is a CUDA to HIP source translator tool that can allow CUDA source code to be translated into HIP source code, easing the transition between the two hardware targets.</p>
<p>The tool is available on ARCHER2 by loading the <code>rocm</code> module.</p>
<p>The github repository for HIPIFY can be found <a href="https://github.com/ROCm/HIPIFY">here</a>.</p>
<p>The documentation for HIPIFY is found <a href="https://rocm.docs.amd.com/projects/HIPIFY/en/docs-5.2.3/index.html">here</a>.</p>
<h2 id="notes-and-useful-links">Notes and useful links</h2>
<p>You should expect the software development environment to be similar to that
available on the Frontier exascale system:</p>
<ul>
<li><a href="https://docs.olcf.ornl.gov/systems/frontier_user_guide.html#programming-environment">Programming environment</a></li>
<li><a href="https://docs.olcf.ornl.gov/systems/frontier_user_guide.html#compiling">Compiling</a></li>
<li><a href="https://docs.lumi-supercomputer.eu/hardware/lumig/">Lumi docs</a></li>
<li><a href="https://github.com/amd/rocm-examples/tree/develop">rocm-examples</a></li>
<li><a href="https://github.com/ROCm/HIP-Examples/tree/rocm-5.2.x">hip-examples</a></li>
<li><a href="https://code.ornl.gov/olcf/hello_jobstep">hello-jobstep</a></li>
</ul>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/ARCHER2-HPC" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/ARCHER2_HPC" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/groups/13848871/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["tabs"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.a7c05c9e.min.js"></script>
      
    
  </body>
</html>